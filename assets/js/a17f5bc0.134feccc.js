"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6595],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=r.createContext({}),i=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},p=function(e){var n=i(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=i(t),m=a,k=d["".concat(c,".").concat(m)]||d[m]||u[m]||o;return t?r.createElement(k,s(s({ref:n},p),{},{components:t})):r.createElement(k,s({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,s=new Array(o);s[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,s[1]=l;for(var i=2;i<o;i++)s[i]=t[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},46388:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var r=t(87462),a=(t(67294),t(3905));const o={sidebar_label:"\ud83d\udce0 Ubuntu\u642d\u5efaFisco\u533a\u5757\u94fe",sidebar_position:5},s="\ud83d\udce0 Ubuntu\u642d\u5efaFisco\u533a\u5757\u94fe",l={unversionedId:"Blockchain/fisco-ubuntu",id:"Blockchain/fisco-ubuntu",title:"\ud83d\udce0 Ubuntu\u642d\u5efaFisco\u533a\u5757\u94fe",description:"1. \u642d\u5efa\u5355\u7fa4\u7ec4\u56db\u8282\u70b9FISCO BCOS\u8054\u76df\u94fe",source:"@site/docs/Blockchain/fisco-ubuntu.md",sourceDirName:"Blockchain",slug:"/Blockchain/fisco-ubuntu",permalink:"/docs/Blockchain/fisco-ubuntu",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_label:"\ud83d\udce0 Ubuntu\u642d\u5efaFisco\u533a\u5757\u94fe",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"\ud83c\udfa8 ERC\u6807\u51c6\u4ee5\u53caNFT\u5e94\u7528\u5f00\u53d1",permalink:"/docs/Blockchain/erc-721"},next:{title:"\ud83e\udddf\u200d\u2642\ufe0f \u901a\u8fc7\u4e92\u52a8\u6559\u7a0b\u5b66\u4e60Solidity",permalink:"/docs/Blockchain/solidity"}},c={},i=[{value:"1. \u642d\u5efa\u5355\u7fa4\u7ec4\u56db\u8282\u70b9FISCO BCOS\u8054\u76df\u94fe",id:"1-\u642d\u5efa\u5355\u7fa4\u7ec4\u56db\u8282\u70b9fisco-bcos\u8054\u76df\u94fe",level:2},{value:"\u7b2c\u4e00\u6b65: \u5b89\u88c5\u4f9d\u8d56",id:"\u7b2c\u4e00\u6b65-\u5b89\u88c5\u4f9d\u8d56",level:3},{value:"\u7b2c\u4e8c\u6b65: \u521b\u5efa\u76ee\u5f55, \u4e0b\u8f7d\u811a\u672c",id:"\u7b2c\u4e8c\u6b65-\u521b\u5efa\u76ee\u5f55-\u4e0b\u8f7d\u811a\u672c",level:3},{value:"\u7b2c\u4e09\u6b65: \u642d\u5efa\u8054\u76df\u94fe",id:"\u7b2c\u4e09\u6b65-\u642d\u5efa\u8054\u76df\u94fe",level:3},{value:"\u7b2c\u56db\u6b65: \u542f\u52a8\u8282\u70b9",id:"\u7b2c\u56db\u6b65-\u542f\u52a8\u8282\u70b9",level:3},{value:"\u7b2c\u4e94\u6b65: \u68c0\u67e5\u65e5\u5fd7\u8f93\u51fa",id:"\u7b2c\u4e94\u6b65-\u68c0\u67e5\u65e5\u5fd7\u8f93\u51fa",level:3},{value:"2. \u914d\u7f6e\u4e0e\u4f7f\u7528\u63a7\u5236\u53f0",id:"2-\u914d\u7f6e\u4e0e\u4f7f\u7528\u63a7\u5236\u53f0",level:2},{value:"\u7b2c\u4e00\u6b65: \u51c6\u5907\u63a7\u5236\u53f0\u4f9d\u8d56",id:"\u7b2c\u4e00\u6b65-\u51c6\u5907\u63a7\u5236\u53f0\u4f9d\u8d56",level:3},{value:"\u7b2c\u4e8c\u6b65: \u542f\u52a8\u5e76\u4f7f\u7528\u63a7\u5236\u53f0",id:"\u7b2c\u4e8c\u6b65-\u542f\u52a8\u5e76\u4f7f\u7528\u63a7\u5236\u53f0",level:3},{value:"3. \u90e8\u7f72\u5e76\u8c03\u7528HelloWorld\u7684\u667a\u80fd\u5408\u7ea6",id:"3-\u90e8\u7f72\u5e76\u8c03\u7528helloworld\u7684\u667a\u80fd\u5408\u7ea6",level:2},{value:"\u7b2c\u4e00\u6b65: \u90e8\u7f72\u5408\u7ea6",id:"\u7b2c\u4e00\u6b65-\u90e8\u7f72\u5408\u7ea6",level:3},{value:"\u7b2c\u4e00\u6b65: \u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1",id:"\u7b2c\u4e00\u6b65-\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1",level:3},{value:"\u7b2c\u4e8c\u6b65: \u5f00\u53d1\u63a5\u53e3\u6e90\u7801",id:"\u7b2c\u4e8c\u6b65-\u5f00\u53d1\u63a5\u53e3\u6e90\u7801",level:3},{value:"\u7b2c\u4e09\u6b65: \u7f16\u8bd1\u667a\u80fd\u5408\u7ea6",id:"\u7b2c\u4e09\u6b65-\u7f16\u8bd1\u667a\u80fd\u5408\u7ea6",level:3},{value:"\u7b2c\u56db\u6b65: \u521b\u5efa\u533a\u5757\u94fe\u5e94\u7528\u9879\u76ee",id:"\u7b2c\u56db\u6b65-\u521b\u5efa\u533a\u5757\u94fe\u5e94\u7528\u9879\u76ee",level:3}],p={toc:i};function u(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"-ubuntu\u642d\u5efafisco\u533a\u5757\u94fe"},"\ud83d\udce0 Ubuntu\u642d\u5efaFisco\u533a\u5757\u94fe"),(0,a.kt)("h2",{id:"1-\u642d\u5efa\u5355\u7fa4\u7ec4\u56db\u8282\u70b9fisco-bcos\u8054\u76df\u94fe"},"1. \u642d\u5efa\u5355\u7fa4\u7ec4\u56db\u8282\u70b9FISCO BCOS\u8054\u76df\u94fe"),(0,a.kt)("p",null,"\u4f7f\u7528\u5f00\u53d1\u90e8\u7f72\u5de5\u5177build_chain.sh\u811a\u672c\u5feb\u901f\u642d\u5efaFISCO BCOS\u533a\u5757\u94fe, \u672c\u6b21\u4ee5Ubuntu 16.04 64bit\u7cfb\u7edf\u4e3a\u4f8b\u64cd\u4f5c."),(0,a.kt)("p",null,"\u90e8\u7f72\u5de5\u5177build_chain\u811a\u672c\u76ee\u6807\u662f\u8ba9\u7528\u6237\u6700\u5feb\u5730\u642d\u5efa\uff0c\u5bf9\u4e8e\u4f01\u4e1a\u7ea7\u5e94\u7528\u90e8\u7f72FISCO BCOS\u8bf7\u53c2\u8003\u8fd0\u7ef4\u90e8\u7f72\u5de5\u5177."),(0,a.kt)("p",null,"\u5b98\u65b9\u63a8\u8350\u4e0b\u8f7d\u9884\u7f16\u8bd1\u7a0b\u5e8f\u8fdb\u884c\u4f7f\u7528. \u540c\u65f6\u63d0\u4f9b",(0,a.kt)("a",{parentName:"p",href:"https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/get_executable.html"},"Docker\u7a0b\u5e8f\u4e0e\u672a\u7f16\u8bd1\u6e90\u7801"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ARM\u67b6\u6784linux\u4e0eX86\u67b6\u6784macOS\u9700\u8981\u81ea\u884c\u7f16\u8bd1, ARM\u67b6\u6784macOS\u6682\u672a\u9002\u914d."),(0,a.kt)("p",{parentName:"blockquote"},"CentOS\u7cfb\u7edf\u4e0bopenssl\u9ed8\u8ba4\u8def\u5f84\u5728\u5f00\u59cb\u642d\u5efa\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u8def\u5f84\u9519\u8bef."),(0,a.kt)("p",{parentName:"blockquote"},"\u63a8\u8350\u65b0\u624b\u5f00\u53d1\u8005\u4f7f\u7528Ubuntu\u5e73\u53f0\u642d\u5efa.")),(0,a.kt)("h3",{id:"\u7b2c\u4e00\u6b65-\u5b89\u88c5\u4f9d\u8d56"},"\u7b2c\u4e00\u6b65: \u5b89\u88c5\u4f9d\u8d56"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4f7f\u7528build_chain.sh\u811a\u672c\u9700\u8981\u5148\u5b89\u88c5openssl\u4e0ecurl.\n\u56e0\u6b64\u5148\u5b89\u88c5\u8fd9\u4e24\u4e2a\u4f9d\u8d56.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt install -y openssl curl\n")),(0,a.kt)("h3",{id:"\u7b2c\u4e8c\u6b65-\u521b\u5efa\u76ee\u5f55-\u4e0b\u8f7d\u811a\u672c"},"\u7b2c\u4e8c\u6b65: \u521b\u5efa\u76ee\u5f55, \u4e0b\u8f7d\u811a\u672c"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u9996\u5148\u521b\u5efafisco\u76ee\u5f55, \u5e76\u4e14\u8fdb\u5165\u521a\u521b\u5efa\u7684\u76ee\u5f55.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd ~ && mkdir -p fisco && cd fisco\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u901a\u8fc7curl\u4e0b\u8f7dbuild_chain.sh\u811a\u672c")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"curl -#LO https://github.com/FISCO-BCOS/FISCO-BCOS/releases/download/v2.7.2/build_chain.sh && chmod u+x build_chain.sh\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u56e0\u4e3a\u7f51\u7edc\u95ee\u9898\u65e0\u6cd5\u6b63\u5e38\u4e0b\u8f7d, \u53ef\u4ee5\u5c1d\u8bd5\u66f4\u6362\u94fe\u63a5\n",(0,a.kt)("inlineCode",{parentName:"p"},"curl -#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/releases/v2.7.2/build_chain.sh && chmod u+x build_chain.sh"))),(0,a.kt)("h3",{id:"\u7b2c\u4e09\u6b65-\u642d\u5efa\u8054\u76df\u94fe"},"\u7b2c\u4e09\u6b65: \u642d\u5efa\u8054\u76df\u94fe"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"\u6ce8\u610f\u8981\u786e\u4fdd\u673a\u5668\u768430300~30303\uff0c20200~20203\uff0c8545~8548\u7aef\u53e3\u6ca1\u6709\u88ab\u5360\u7528, \u5426\u5219\u4f1a\u5bfc\u81f4\u540e\u7eed\u65e0\u6cd5\u6210\u529f\u642d\u5efa."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728fisco\u76ee\u5f55\u4e0b\u6267\u884c\u6307\u4ee4, \u751f\u6210\u4e00\u6761\u5355\u7fa4\u7ec44\u8282\u70b9\u7684FISCO\u94fe.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bash build_chain.sh -l 127.0.0.1:4 -p 30300,20200,8545\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"-p\u9009\u9879\u4e3a\u8d77\u59cb\u7aef\u53e3, 30300\u4e3ap2p_port, 20200\u4e3achannel_port, 8545\u4e3ajsonrpc_port.\n\u66f4\u591a\u642d\u5efa\u65f6\u7684\u9009\u9879\u53ef\u4ee5\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/build_chain.html"},"\u5f00\u53d1\u90e8\u7f72\u5de5\u5177"),".")),(0,a.kt)("p",null,"\u547d\u4ee4\u6267\u884c\u6210\u529f\u4f1a\u5728\u6700\u540e\u4e00\u884c\u663e\u793a",(0,a.kt)("inlineCode",{parentName:"p"},"[INFO] All completed. Files in /home/ubuntu/fisco/nodes")),(0,a.kt)("h3",{id:"\u7b2c\u56db\u6b65-\u542f\u52a8\u8282\u70b9"},"\u7b2c\u56db\u6b65: \u542f\u52a8\u8282\u70b9"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u811a\u672c\u542f\u52a8\u6240\u6709\u6240\u6709\u8282\u70b9")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bash nodes/127.0.0.1/start_all.sh\n")),(0,a.kt)("p",null,"\u56db\u4e2a\u8282\u70b9\u5747\u542f\u52a8\u6210\u529f\u65f6\u4f1a\u663e\u793a"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"try to start node0"),(0,a.kt)("p",{parentName:"blockquote"},"try to start node1"),(0,a.kt)("p",{parentName:"blockquote"},"try to start node2"),(0,a.kt)("p",{parentName:"blockquote"},"try to start node3"),(0,a.kt)("p",{parentName:"blockquote"},"node0 start successfully"),(0,a.kt)("p",{parentName:"blockquote"},"node1 start successfully"),(0,a.kt)("p",{parentName:"blockquote"},"node2 start successfully"),(0,a.kt)("p",{parentName:"blockquote"},"node3 start successfully")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u8282\u70b9\u662f\u5426\u88ab\u6210\u529f\u542f\u52a8")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"ps -ef | grep -v grep | grep fisco-bcos\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u82e5\u663e\u793a\u56db\u884c\u6570\u636e, \u5219FISCO BCOS\u94fe\u6210\u529f\u542f\u52a8")),(0,a.kt)("h3",{id:"\u7b2c\u4e94\u6b65-\u68c0\u67e5\u65e5\u5fd7\u8f93\u51fa"},"\u7b2c\u4e94\u6b65: \u68c0\u67e5\u65e5\u5fd7\u8f93\u51fa"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u67e5\u770b\u8282\u70b9\u94fe\u63a5\u7684\u5176\u4ed6\u8282\u70b9\u4e2a\u6570")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"tail -f nodes/127.0.0.1/node0/log/log*  | grep connected\n")),(0,a.kt)("p",null,"\u5982\u679c\u8f93\u51fa\u6b63\u5e38\u4e2d\u6bcf\u5341\u79d2\u4f1a\u5f39\u51fa\u4e00\u884c\u4fe1\u606f."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"info|2021-06-25 09:06:04.855163|","[P2P][Service]"," heartBeat,connected count=3"),(0,a.kt)("p",{parentName:"blockquote"},"info|2021-06-25 09:06:14.859185|","[P2P][Service]"," heartBeat,connected count=3"),(0,a.kt)("p",{parentName:"blockquote"},"info|2021-06-25 09:06:24.863178|","[P2P][Service]"," heartBeat,connected count=3")),(0,a.kt)("p",null,"\u8f93\u51fa\u4e2d\u53ef\u4ee5\u770b\u5230\u7b2c0\u4e2a\u8282\u70b9\u4e0e\u5176\u4ed63\u4e2a\u8282\u70b9\u76f8\u8fde."),(0,a.kt)("p",null,"\u5982\u679c\u68c0\u67e5\u5176\u4ed6\u8282\u70b9, \u8f93\u51fa\u4fe1\u606f\u76f8\u540c."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u68c0\u67e5\u94fe\u4e2d\u662f\u5426\u5b58\u5728\u5171\u8bc6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"tail -f nodes/127.0.0.1/node0/log/log*  | grep +++\n")),(0,a.kt)("p",null,"\u5982\u679c\u5171\u8bc6\u6b63\u5e38\u4f1a\u5f39\u51fa\u5982\u4e0b\u4fe1\u606f."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"info|2021-06-25 08:59:58.199388|","[g:1][CONSENSUS]","[SEALER]","++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=c7e899af..."),(0,a.kt)("p",{parentName:"blockquote"},"info|2021-06-25 09:08:20.095493|","[g:1][CONSENSUS]","[SEALER]","++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=fbe312af..."),(0,a.kt)("p",{parentName:"blockquote"},"info|2021-06-25 09:08:24.135362|","[g:1][CONSENSUS]","[SEALER]","++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=6e7ef1a2...")),(0,a.kt)("h2",{id:"2-\u914d\u7f6e\u4e0e\u4f7f\u7528\u63a7\u5236\u53f0"},"2. \u914d\u7f6e\u4e0e\u4f7f\u7528\u63a7\u5236\u53f0"),(0,a.kt)("h3",{id:"\u7b2c\u4e00\u6b65-\u51c6\u5907\u63a7\u5236\u53f0\u4f9d\u8d56"},"\u7b2c\u4e00\u6b65: \u51c6\u5907\u63a7\u5236\u53f0\u4f9d\u8d56"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"\u6211\u4eec\u901a\u8fc7\u811a\u672c\u4e0b\u8f7d\u7684\u7a0b\u5e8f\u4e3a\u6700\u65b0\u7248\u672c.\n2.6\u7248\u672c\u4e4b\u540e\u7684\u63a7\u5236\u53f0\u5747\u7528Java SDK\u5b9e\u73b0."),(0,a.kt)("p",null,"\u65b0\u7248\u63a7\u5236\u53f0\u6587\u6863\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/console/console_of_java_sdk.html"},"\u6b64\u5904"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5b89\u88c5Java")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt install -y default-jdk\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u56de\u5230fisco\u76ee\u5f55\u5e76\u4e14\u4e0b\u8f7d\u5e76\u8fd0\u884cdownload_console\u7684\u811a\u672c")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd ~/fisco && curl -LO https://github.com/FISCO-BCOS/console/releases/download/v2.7.2/download_console.sh && bash download_console.sh\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u56e0\u4e3a\u7f51\u7edc\u95ee\u9898\u65e0\u6cd5\u6b63\u5e38\u4e0b\u8f7d, \u53ef\u4ee5\u5c1d\u8bd5\u5c06\u4e2d\u95f4\u7684\u94fe\u63a5\u66ff\u6362\u4e3a\n",(0,a.kt)("inlineCode",{parentName:"p"},"curl -#LO https://gitee.com/FISCO-BCOS/console/raw/master/tools/download_console.sh"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5c06\u9ed8\u8ba4\u7684\u63a7\u5236\u53f0\u914d\u7f6e\u62f7\u8d1d\u5230\u5bf9\u5e94\u7684\u8def\u5f84\u4e0e\u540d\u79f0")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cp -n console/conf/config-example.toml console/conf/config.toml\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5c06\u63a7\u5236\u53f0\u8bc1\u4e66\u62f7\u8d1d\u5230\u5bf9\u5e94\u8def\u5f84")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cp -r nodes/127.0.0.1/sdk/* console/conf/\n")),(0,a.kt)("h3",{id:"\u7b2c\u4e8c\u6b65-\u542f\u52a8\u5e76\u4f7f\u7528\u63a7\u5236\u53f0"},"\u7b2c\u4e8c\u6b65: \u542f\u52a8\u5e76\u4f7f\u7528\u63a7\u5236\u53f0"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8fdb\u5165\u63a7\u5236\u53f0\u8def\u5f84\u5e76\u542f\u52a8\u63a7\u5236\u53f0")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd ~/fisco/console && bash start.sh\n")),(0,a.kt)("p",null,"\u63a7\u5236\u53f0\u542f\u52a8\u6210\u529f\u540e\u4f1a\u663e\u793a\u7248\u672c\u53f7\u4ee5\u53ca\u7531$\u7b26\u53f7\u7ec4\u6210\u7684ASCII art"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Welcome to FISCO BCOS console(2.7.2)!")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728\u63a7\u5236\u53f0\u4e2d\u83b7\u53d6\u4fe1\u606f")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"===================================================\n[group:1]> getNodeVersion\nClientVersion{\n    version='2.7.2',\n    supportedVersion='2.7.2',\n    chainId='1',\n    buildTime='20210201 10:03:03',\n    buildType='Linux/clang/Release',\n    gitBranch='HEAD',\n    gitCommitHash='4c8a5bbe44c19db8a002017ff9dbb16d3d28e9da'\n}\n\n[group:1]> getPeers\n[\n    PeerInfo{\n        nodeID='6d9f62cea16879e16ffe4004c64fa717b62c3853c915f79306972da0dac4133f25b97bedfe522d982a3fd606c2ac90ef085a45f1786ea1e5dbd4ad8fdd57b97e',\n        iPAndPort='127.0.0.1:50050',\n        node='node3',\n        agency='agency',\n        topic='[\n\n        ]'\n    },\n    PeerInfo{\n        nodeID='fae1c9ff63b77de57759555d0cfcf01f43db418f7d75ecc969c1262364b3d6ae0d53ae92e05adf259e4a56f91369d66ca29c4e9c4e8a6342d23bbdcd9e2fb4ab',\n        iPAndPort='127.0.0.1:50042',\n        node='node1',\n        agency='agency',\n        topic='[\n            _block_notify_1\n        ]'\n    },\n    PeerInfo{\n        nodeID='4fd5a7d73b3f002e76c2e1adbcbdbc0903197a2a10cf449ddc6507d33cd050e414b52aef9d5444f9206aec2cfc0d976e235b10fd9d4fa56c8168e59a6b234ada',\n        iPAndPort='127.0.0.1:30302',\n        node='node2',\n        agency='agency',\n        topic='[\n\n        ]'\n    }\n]\n")),(0,a.kt)("h2",{id:"3-\u90e8\u7f72\u5e76\u8c03\u7528helloworld\u7684\u667a\u80fd\u5408\u7ea6"},"3. \u90e8\u7f72\u5e76\u8c03\u7528HelloWorld\u7684\u667a\u80fd\u5408\u7ea6"),(0,a.kt)("h3",{id:"\u7b2c\u4e00\u6b65-\u90e8\u7f72\u5408\u7ea6"},"\u7b2c\u4e00\u6b65: \u90e8\u7f72\u5408\u7ea6"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u5feb\u901f\u4f53\u9a8c, HelloWorld\u7684\u5408\u7ea6\u5df2\u7ecf\u5185\u7f6e\u4e8e\u63a7\u5236\u53f0\u4e2d, \u4f4d\u4e8e\u63a7\u5236\u53f0\u76ee\u5f55\u4e0bcontracts/solidity/HelloWorld.sol. \u6211\u4eec\u76f4\u63a5\u90e8\u7f72HelloWorld\u5408\u7ea6.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"deploy HelloWorld\n")),(0,a.kt)("p",null,"\u5408\u7ea6\u5177\u4f53\u5185\u5bb9\u4e3a:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'pragma solidity ^0.4.24;\n\ncontract HelloWorld {\n    // \u58f0\u660e\u53d8\u91cfname\n    string name;\n\n    // \u5c06name\u503c\u66f4\u65b0\u4e3aHello, World!\n    function HelloWorld() {\n        name = "Hello, World!";\n    }\n\n    // \u8c03\u7528get\u65b9\u6cd5\u65f6\u8fd4\u56dename\u7684\u503c\n    function get()constant returns(string) {\n        return name;\n    }\n\n    // \u8c03\u7528set\u65b9\u6cd5\u65f6\u4fee\u6539name\u7684\u503c\u4e3an\n    function set(string n) {\n        name = n;\n    }\n}\n')),(0,a.kt)("p",null,"\u90e8\u7f72\u6210\u529f\u540e\u4f1a\u8fd4\u56de\u5408\u7ea6\u5730\u5740:"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"transaction hash: 0x24d98970eb355755f66f8b5e8ba4b94a1e69de0ef53fdff9f0a011ce4c57bdaa"),(0,a.kt)("p",{parentName:"blockquote"},"contract address: {address hash}"),(0,a.kt)("p",{parentName:"blockquote"},"currentAccount: 0xe6925c66ad07d894f066a2229addb2b350d373c3")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u67e5\u770b\u5f53\u524d\u533a\u5757\u9ad8\u5ea6, \u8c03\u7528get\u63a5\u53e3\u83b7\u53d6name\u53d8\u91cf")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"[group:1]> getBlockNumber\n1\n\n[group:1]> call HelloWorld {address hash} get\n---------------------------------------------------------------------------------------------\nReturn code: 0\ndescription: transaction executed successfully\nReturn message: Success\n---------------------------------------------------------------------------------------------\nReturn value size:1\nReturn types: (STRING)\nReturn values:(Hello, World!)\n---------------------------------------------------------------------------------------------\n\n[group:1]> getBlockNumber\n1\n")),(0,a.kt)("p",null,"get\u63a5\u53e3\u4e0d\u4f1a\u6539\u53d8\u8d26\u672c\u72b6\u6001, \u6240\u4ee5\u8c03\u7528\u4e4b\u540e\u533a\u5757\u9ad8\u5ea6\u4ecd\u7136\u4e3a1."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528set\u63a5\u53e3\u8bbe\u7f6ename\u53d8\u91cf")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'[group:1]> call HelloWorld {address hash} set "Hello, Fisco BcoS"\ntransaction hash: 0x08e2f53419d1e327aa38fa3ce3d6e529927e4f2bac05bea757406b27bf122f1d\n---------------------------------------------------------------------------------------------\ntransaction status: 0x0\ndescription: transaction executed successfully\n---------------------------------------------------------------------------------------------\nReceipt message: Success\nReturn message: Success\nReturn values:[]\n---------------------------------------------------------------------------------------------\nEvent logs\nEvent: {}\n\n[group:1]> getBlockNumber\n2\n\n[group:1]> call HelloWorld {address hash} get\n---------------------------------------------------------------------------------------------\nReturn code: 0\ndescription: transaction executed successfully\nReturn message: Success\n---------------------------------------------------------------------------------------------\nReturn value size:1\nReturn types: (STRING)\nReturn values:(Hello, Fisco BcoS)\n---------------------------------------------------------------------------------------------\n')),(0,a.kt)("p",null,"\u518d\u6b21\u67e5\u770b\u533a\u5757\u9ad8\u5ea6\u4f1a\u53d1\u73b0\u9ad8\u5ea6\u5df2\u6539\u53d8, \u518d\u6b21\u8c03\u7528get\u63a5\u53e3\u53d1\u73b0\u8fd4\u56de\u503c\u5df2\u7ecf\u4fee\u6539\u4e3a\u6211\u4eecset\u7684\u503c."),(0,a.kt)("h1",{id:"fisco-bcos\u533a\u5757\u94fe\u7b80\u6613\u7684\u8d44\u4ea7\u7ba1\u7406\u7684\u5f00\u53d1\u5168\u8fc7\u7a0b"},"FISCO BCOS\u533a\u5757\u94fe\u7b80\u6613\u7684\u8d44\u4ea7\u7ba1\u7406\u7684\u5f00\u53d1\u5168\u8fc7\u7a0b"),(0,a.kt)("p",null,"\u6211\u4eec\u5c06\u4f1a\u5f00\u53d1\u4e00\u4e2a\u7b80\u6613\u7684\u8d44\u4ea7\u7ba1\u7406\u7684\u7cfb\u7edf\uff0c\u5e76\u6700\u7ec8\u5b9e\u73b0\u4ee5\u4e0b\u529f\u80fd\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u80fd\u591f\u5728\u533a\u5757\u94fe\u4e0a\u8fdb\u884c\u8d44\u4ea7\u8d26\u6237\u6ce8\u518c"),(0,a.kt)("li",{parentName:"ul"},"\u80fd\u591f\u5b9e\u73b0\u4e0d\u540c\u8d26\u6237\u4e4b\u95f4\u7684\u8f6c\u8d26"),(0,a.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u67e5\u8be2\u8d26\u6237\u7684\u8d44\u4ea7\u91d1\u989d")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\u7b2c\u4e00\u6b65-\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1"},"\u7b2c\u4e00\u6b65: \u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"\u5b58\u50a8\u8bbe\u8ba1:"))),(0,a.kt)("p",null,"\u9488\u5bf9\u9700\u8981\u5b9e\u73b0\u7684\u529f\u80fd, \u672c\u5e94\u7528\u9700\u8981\u8bbe\u8ba1\u5b58\u50a8\u8d44\u4ea7\u7ba1\u7406\u7684\u8868t_asset. \u5185\u5bb9\u5982\u4e0b:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"account"),(0,a.kt)("th",{parentName:"tr",align:null},"asset_value"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Alex"),(0,a.kt)("td",{parentName:"tr",align:null},"1000")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Bob"),(0,a.kt)("td",{parentName:"tr",align:null},"2000")))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"\u63a5\u53e3\u8bbe\u8ba1:"))),(0,a.kt)("p",null,"\u6309\u7167\u4e1a\u52a1\u7684\u8bbe\u8ba1\u76ee\u6807\uff0c\u9700\u8981\u5b9e\u73b0\u8d44\u4ea7\u6ce8\u518c\uff0c\u8f6c\u8d26\uff0c\u67e5\u8be2\u8d44\u4ea7\u91d1\u989d\u529f\u80fd\uff0c\u5bf9\u5e94\u529f\u80fd\u7684\u63a5\u53e3\u5982\u4e0b:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// \u67e5\u8be2\u8d26\u6237\u7684\u8d44\u4ea7\u91d1\u989d\n   return\u503c\u4e00\uff1a \u6210\u529f\u627e\u5230\u8d26\u6237\u8fd4\u56de0, \u8d26\u6237\u4e0d\u5b58\u5728\u8fd4\u56de-1\n   return\u503c\u4e8c\uff1a \u8d44\u4ea7\u91d1\u989d(\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a0\u65f6\u6709\u6548)\nfunction select(string account) public constant returns(int256, uint256)\n// \u8d44\u4ea7\u8d26\u6237\u6ce8\u518c\n   0  \u8d44\u4ea7\u8d26\u6237\u6ce8\u518c\u6210\u529f\n   -1 \u8d44\u4ea7\u8d26\u6237\u5df2\u5b58\u5728\n   -2 \u5176\u4ed6\u9519\u8bef\nfunction register(string account, uint256 amount) public returns(int256)\n// \u8d26\u6237\u95f4\u7684\u8d44\u4ea7\u8f6c\u79fb\n   \u8fd4\u56de\u503c\uff1a\n   0  \u8d44\u4ea7\u8f6c\u79fb\u6210\u529f\n   -1 \u8f6c\u79fb\u8d44\u4ea7\u8d26\u6237\u4e0d\u5b58\u5728\n   -2 \u63a5\u6536\u8d44\u4ea7\u8d26\u6237\u4e0d\u5b58\u5728\n   -3 \u91d1\u989d\u4e0d\u8db3\n   -4 \u91d1\u989d\u6ea2\u51fa\n   -5 \u5176\u4ed6\u9519\u8bef\nfunction transfer(string from_asset_account, string to_asset_account, uint256 amount) public returns(int256)\n")),(0,a.kt)("h3",{id:"\u7b2c\u4e8c\u6b65-\u5f00\u53d1\u63a5\u53e3\u6e90\u7801"},"\u7b2c\u4e8c\u6b65: \u5f00\u53d1\u63a5\u53e3\u6e90\u7801"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u7f16\u5199\u667a\u80fd\u5408\u7ea6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// \u8fdb\u5165console/contracts/solidity\u76ee\u5f55\ncd ~/fisco/console/contracts/solidity\n// \u521b\u5efaAsset.sol\u5408\u7ea6\u6587\u4ef6, \u8fdb\u5165\u6587\u4ef6\u7684\u7f16\u5199\nvi Asset.sol\n\n// \u5c06\u5408\u7ea6\u5185\u5bb9\u5199\u5165Asset.sol\u6587\u4ef6.\n// ** \u91cd\u8981: vim\u4e2d\u4fdd\u5b58\u9000\u51fa\u4e3a:wq **\n")),(0,a.kt)("p",null,"Assert.sol\u7684\u5185\u5bb9\u5982\u4e0b:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'pragma solidity ^0.4.24;\n\n// Table.sol\u5df2\u5728~/fisco/console/contracts/solidity\u76ee\u5f55\u4e0b.\n// \u8be5\u7cfb\u7edf\u5408\u7ea6\u6587\u4ef6\u4e2d\u7684\u63a5\u53e3\u7531FISCO BCOS\u5e95\u5c42\u5b9e\u73b0.\n// \u5f53\u4e1a\u52a1\u5408\u7ea6\u9700\u8981\u64cd\u4f5cCRUD\u63a5\u53e3\u65f6\uff0c\u5747\u9700\u8981\u5f15\u5165\u8be5\u63a5\u53e3\u5408\u7ea6\u6587\u4ef6.\nimport "./Table.sol";\n\ncontract Asset {\n    event RegisterEvent(int256 ret, string account, uint256 asset_value);\n    event TransferEvent(int256 ret, string from_account, string to_account, uint256 amount);\n\n    constructor() public {\n        // \u6784\u9020\u51fd\u6570\u4e2d\u521b\u5efat_asset\u8868\n        createTable();\n    }\n\n    function createTable() private {\n        TableFactory tf = TableFactory(0x1001);\n        // \u8d44\u4ea7\u7ba1\u7406\u8868, key : account, field : asset_value\n        // |      \u8d44\u4ea7\u8d26\u6237(key)   |   \u8d44\u4ea7\u91d1\u989d(field)   |\n        // |-------------------- |-------------------|\n        // |        account      |    asset_value    |\n        // |---------------------|-------------------|\n        tf.createTable("t_asset", "account", "asset_value");\n    }\n\n    function openTable() private returns(Table) {\n        TableFactory tf = TableFactory(0x1001);\n        Table table = tf.openTable("t_asset");\n        return table;\n    }\n\n    /*\n    \u63cf\u8ff0 : \u6839\u636e\u8d44\u4ea7\u8d26\u6237\u67e5\u8be2\u8d44\u4ea7\u91d1\u989d\n    \u53c2\u6570 \uff1a\n            account : \u8d44\u4ea7\u8d26\u6237\n    \u8fd4\u56de\u503c\uff1a\n            \u53c2\u6570\u4e00\uff1a \u6210\u529f\u627e\u5230\u8d26\u6237\u8fd4\u56de0, \u8d26\u6237\u4e0d\u5b58\u5728\u8fd4\u56de-1\n            \u53c2\u6570\u4e8c\uff1a \u8d44\u4ea7\u91d1\u989d(\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a0\u65f6\u6709\u6548)\n    */\n    function select(string account) public constant returns(int256, uint256) {\n        // \u6253\u5f00\u8868\n        Table table = openTable();\n        // \u67e5\u8be2\n        Entries entries = table.select(account, table.newCondition());\n        uint256 asset_value = 0;\n        if (0 == uint256(entries.size())) {\n            return (-1, asset_value);\n        } else {\n            Entry entry = entries.get(0);\n            return (0, uint256(entry.getInt("asset_value")));\n        }\n    }\n\n    /*\n    \u63cf\u8ff0 : \u8d44\u4ea7\u6ce8\u518c\n    \u53c2\u6570 \uff1a\n            account : \u8d44\u4ea7\u8d26\u6237\n            amount  : \u8d44\u4ea7\u91d1\u989d\n    \u8fd4\u56de\u503c\uff1a\n            0  \u8d44\u4ea7\u8d26\u6237\u6ce8\u518c\u6210\u529f\n            -1 \u8d44\u4ea7\u8d26\u6237\u5df2\u5b58\u5728\n            -2 \u5176\u4ed6\u9519\u8bef\n    */\n    function register(string account, uint256 asset_value) public returns(int256){\n        int256 ret_code = 0;\n        int256 ret= 0;\n        uint256 temp_asset_value = 0;\n        // \u67e5\u8be2\u8d26\u6237\u662f\u5426\u5b58\u5728\n        (ret, temp_asset_value) = select(account);\n        if(ret != 0) {\n            Table table = openTable();\n\n            Entry entry = table.newEntry();\n            entry.set("account", account);\n            entry.set("asset_value", int256(asset_value));\n            // \u63d2\u5165\n            int count = table.insert(account, entry);\n            if (count == 1) {\n                // \u6210\u529f\n                ret_code = 0;\n            } else {\n                // \u5931\u8d25? \u65e0\u6743\u9650\u6216\u8005\u5176\u4ed6\u9519\u8bef\n                ret_code = -2;\n            }\n        } else {\n            // \u8d26\u6237\u5df2\u5b58\u5728\n            ret_code = -1;\n        }\n\n        emit RegisterEvent(ret_code, account, asset_value);\n\n        return ret_code;\n    }\n\n    /*\n    \u63cf\u8ff0 : \u8d44\u4ea7\u8f6c\u79fb\n    \u53c2\u6570 \uff1a\n            from_account : \u8f6c\u79fb\u8d44\u4ea7\u7684\u8d26\u6237\n            to_account \uff1a \u63a5\u6536\u8d44\u4ea7\u7684\u8d26\u6237\n            amount \uff1a \u8f6c\u79fb\u91d1\u989d\u6570\u91cf\n    \u8fd4\u56de\u503c\uff1a\n            0  \u8d44\u4ea7\u8f6c\u79fb\u6210\u529f\n            -1 \u8f6c\u79fb\u8d44\u4ea7\u8d26\u6237\u4e0d\u5b58\u5728\n            -2 \u63a5\u6536\u8d44\u4ea7\u8d26\u6237\u4e0d\u5b58\u5728\n            -3 \u91d1\u989d\u4e0d\u8db3\n            -4 \u91d1\u989d\u6ea2\u51fa\n            -5 \u5176\u4ed6\u9519\u8bef\n    */\n    function transfer(string from_account, string to_account, uint256 amount) public returns(int256) {\n        // \u67e5\u8be2\u8f6c\u79fb\u8d44\u4ea7\u8d26\u6237\u4fe1\u606f\n        int ret_code = 0;\n        int256 ret = 0;\n        uint256 from_asset_value = 0;\n        uint256 to_asset_value = 0;\n\n        // \u8f6c\u79fb\u8d26\u6237\u662f\u5426\u5b58\u5728?\n        (ret, from_asset_value) = select(from_account);\n        if(ret != 0) {\n            ret_code = -1;\n            // \u8f6c\u79fb\u8d26\u6237\u4e0d\u5b58\u5728\n            emit TransferEvent(ret_code, from_account, to_account, amount);\n            return ret_code;\n\n        }\n\n        // \u63a5\u53d7\u8d26\u6237\u662f\u5426\u5b58\u5728?\n        (ret, to_asset_value) = select(to_account);\n        if(ret != 0) {\n            ret_code = -2;\n            // \u63a5\u6536\u8d44\u4ea7\u7684\u8d26\u6237\u4e0d\u5b58\u5728\n            emit TransferEvent(ret_code, from_account, to_account, amount);\n            return ret_code;\n        }\n\n        if(from_asset_value < amount) {\n            ret_code = -3;\n            // \u8f6c\u79fb\u8d44\u4ea7\u7684\u8d26\u6237\u91d1\u989d\u4e0d\u8db3\n            emit TransferEvent(ret_code, from_account, to_account, amount);\n            return ret_code;\n        }\n\n        if (to_asset_value + amount < to_asset_value) {\n            ret_code = -4;\n            // \u63a5\u6536\u8d26\u6237\u91d1\u989d\u6ea2\u51fa\n            emit TransferEvent(ret_code, from_account, to_account, amount);\n            return ret_code;\n        }\n\n        Table table = openTable();\n\n        Entry entry0 = table.newEntry();\n        entry0.set("account", from_account);\n        entry0.set("asset_value", int256(from_asset_value - amount));\n        // \u66f4\u65b0\u8f6c\u8d26\u8d26\u6237\n        int count = table.update(from_account, entry0, table.newCondition());\n        if(count != 1) {\n            ret_code = -5;\n            // \u5931\u8d25? \u65e0\u6743\u9650\u6216\u8005\u5176\u4ed6\u9519\u8bef?\n            emit TransferEvent(ret_code, from_account, to_account, amount);\n            return ret_code;\n        }\n\n        Entry entry1 = table.newEntry();\n        entry1.set("account", to_account);\n        entry1.set("asset_value", int256(to_asset_value + amount));\n        // \u66f4\u65b0\u63a5\u6536\u8d26\u6237\n        table.update(to_account, entry1, table.newCondition());\n\n        emit TransferEvent(ret_code, from_account, to_account, amount);\n\n        return ret_code;\n    }\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4fdd\u5b58\u5e76\u9000\u51fa\u540e\u8fd0\u884cls, \u53ef\u4ee5\u770b\u5230Assert.sol\u548cTable.sol.")),(0,a.kt)("h3",{id:"\u7b2c\u4e09\u6b65-\u7f16\u8bd1\u667a\u80fd\u5408\u7ea6"},"\u7b2c\u4e09\u6b65: \u7f16\u8bd1\u667a\u80fd\u5408\u7ea6"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"\u63a7\u5236\u53f0\u63d0\u4f9b\u7684\u7f16\u8bd1\u5de5\u5177\u53ef\u4ee5\u7f16\u8bd1\u51faABI\u548cBIN\u6587\u4ef6, \u4f7f\u5f97.sol\u6587\u4ef6\u53ef\u4ee5\u90e8\u7f72\u5230\u533a\u5757\u94fe\u4e0a."),(0,a.kt)("p",null,"\u540c\u65f6\u8fd8\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u4e0e\u7f16\u8bd1\u7684\u667a\u80fd\u5408\u7ea6\u540c\u540d\u7684\u6839\u636eABI\u751f\u6210\u7684\u5408\u7ea6Java\u7c7b.\n\u8fd9\u4e2aJava\u7c7b\u5e2e\u52a9\u7528\u6237\u89e3\u6790\u597d\u4e86\u53c2\u6570, \u63d0\u4f9b\u540c\u540d\u7684\u65b9\u6cd5."),(0,a.kt)("p",null,"\u5f53\u5e94\u7528\u9700\u8981\u90e8\u7f72\u548c\u8c03\u7528\u5408\u7ea6\u65f6, \u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u8be5\u5408\u7ea6\u7c7b\u7684\u5bf9\u5e94\u65b9\u6cd5, \u4f20\u5165\u6307\u5b9a\u53c2\u6570\u5373\u53ef."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u7f16\u8bd1\u5408\u7ea6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// \u5207\u6362\u5230fisco/console/\u76ee\u5f55\ncd ~/fisco/console/\n\n// \u7f16\u8bd1\u5408\u7ea6, \u6307\u5b9aJava\u7684\u5305\u540d\u53c2\u6570\n./sol2java.sh org.fisco.bcos.asset.contract\n")),(0,a.kt)("p",null,"\u8fd0\u884c\u6210\u529f\u540e\u4f1a\u663e\u793a",(0,a.kt)("inlineCode",{parentName:"p"},"INFO: Compile for solidity TableTest.sol success.")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\u7b2c\u56db\u6b65-\u521b\u5efa\u533a\u5757\u94fe\u5e94\u7528\u9879\u76ee"},"\u7b2c\u56db\u6b65: \u521b\u5efa\u533a\u5757\u94fe\u5e94\u7528\u9879\u76ee"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u672c\u6b65\u9aa4\u9879\u76ee\u6e90\u7801\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u76f4\u63a5\u83b7\u5f97, \u83b7\u5f97\u540e\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\u672c\u6b65\u9aa4:"),(0,a.kt)("pre",{parentName:"blockquote"},(0,a.kt)("code",{parentName:"pre"},"cd ~/fisco\n\ncurl -#LO https://github.com/FISCO-BCOS/LargeFiles/raw/master/tools/asset-app.tar.gz\n\n# \u89e3\u538b\u5f97\u5230Java\u5de5\u7a0b\u9879\u76eeasset-app\ntar -zxf asset-app.tar.gz\n"))),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5b89\u88c5Java\u4e0eIDE")),(0,a.kt)("p",null,"\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u8f7dJava JDK 14(JDK1.8 \u81f3JDK 14\u90fd\u652f\u6301); \u4e0b\u8f7dIntelliJ IDE."),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"\u521b\u5efaJava\u5de5\u7a0b")),(0,a.kt)("p",null,"\u5728IntelliJ IDE\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee, \u9009\u62e9Gradle, \u52fe\u9009Java, \u8f93\u5165\u5de5\u7a0b\u540d."),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"\u5f15\u5165Java SDK")),(0,a.kt)("p",null,"\u5728build.gradle\u6587\u4ef6\u4e2d\u66ff\u6362repositories, \u52a0\u5165Java SDK\u7684\u5f15\u7528."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'repositories {\n    mavenCentral()\n    maven {\n        url "http://maven.aliyun.com/nexus/content/groups/public/"\n    }\n    maven { url "https://oss.sonatype.org/content/repositories/snapshots" }\n}\n')),(0,a.kt)("p",null,"\u5c06dependencies\u66ff\u6362, \u5f15\u5165Java SDK jar\u5305."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"dependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile ('org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2')\n}\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"\u914d\u7f6eSDK\u8bc1\u4e66")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4fee\u6539build.gradle\u6587\u4ef6, \u5f15\u5165Spring\u6846\u67b6.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'// \u52a0\u5165\ndef spring_version = "4.3.27.RELEASE"\nList spring = [\n        "org.springframework:spring-core:$spring_version",\n        "org.springframework:spring-beans:$spring_version",\n        "org.springframework:spring-context:$spring_version",\n        "org.springframework:spring-tx:$spring_version",\n]\n\n//\u66ff\u6362\ndependencies {\n    testCompile group: \'junit\', name: \'junit\', version: \'4.12\'\n    compile ("org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2")\n    compile spring\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728",(0,a.kt)("inlineCode",{parentName:"li"},"asset-app/test/resources"),"\u76ee\u5f55\u4e0b\u521b\u5efa\u914d\u7f6e\u6587\u4ef6",(0,a.kt)("inlineCode",{parentName:"li"},"applicationContext.xml"),", \u5199\u5165\u914d\u7f6e\u5185\u5bb9(\u5982\u4e0b).")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<?xml version="1.0" encoding="UTF-8" ?>\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-4.0.xsd">\n    <bean id="defaultConfigProperty" class="org.fisco.bcos.sdk.config.model.ConfigProperty">\n        <property name="cryptoMaterial">\n            <map>\n                <entry key="certPath" value="conf" />\n            </map>\n        </property>\n        <property name="network">\n            <map>\n                <entry key="peers">\n                    <list>\n                        <value>127.0.0.1:20200</value>\n                        <value>127.0.0.1:20201</value>\n                    </list>\n                </entry>\n            </map>\n        </property>\n        <property name="account">\n            <map>\n                <entry key="keyStoreDir" value="account" />\n                <entry key="accountAddress" value="" />\n                <entry key="accountFileFormat" value="pem" />\n                <entry key="password" value="" />\n                <entry key="accountFilePath" value="" />\n            </map>\n        </property>\n        <property name="threadPool">\n            <map>\n                <entry key="channelProcessorThreadSize" value="16" />\n                <entry key="receiptProcessorThreadSize" value="16" />\n                <entry key="maxBlockingQueueSize" value="102400" />\n            </map>\n        </property>\n    </bean>\n\n    <bean id="defaultConfigOption" class="org.fisco.bcos.sdk.config.ConfigOption">\n        <constructor-arg name="configProperty">\n            <ref bean="defaultConfigProperty"/>\n        </constructor-arg>\n    </bean>\n\n    <bean id="bcosSDK" class="org.fisco.bcos.sdk.BcosSDK">\n        <constructor-arg name="configOption">\n            <ref bean="defaultConfigOption"/>\n        </constructor-arg>\n    </bean>\n</beans>\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6211\u4eec\u6307\u5b9a\u4e86\u8bc1\u4e66\u5b58\u653e\u7684\u4f4dcertPath\u7684\u503c\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"conf"),", \u63a5\u4e0b\u53bb\u6211\u4eec\u628aSDK\u7528\u4e8e\u8fde\u63a5\u8282\u70b9\u7684\u8bc1\u4e66\u653e\u5230\u6307\u5b9a\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"conf"),"\u76ee\u5f55\u4e0b. \u5982\u679c\u8def\u5f84\u4e0d\u76f8\u540c, \u9700\u8981\u81ea\u884c\u8c03\u6574.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# \u5047\u8bbe\u6211\u4eec\u5c06asset-app\u653e\u5728~/fisco\u76ee\u5f55\u4e0b \u8fdb\u5165~/fisco\u76ee\u5f55\n$ cd ~/fisco\n# \u521b\u5efa\u653e\u7f6e\u8bc1\u4e66\u7684\u6587\u4ef6\u5939\n$ mkdir -p asset-app/src/test/resources/conf\n# \u62f7\u8d1d\u8282\u70b9\u8bc1\u4e66\u5230\u9879\u76ee\u7684\u8d44\u6e90\u76ee\u5f55\n$ cp -r nodes/127.0.0.1/sdk/* asset-app/src/test/resources/conf\n# \u82e5\u5728IDE\u76f4\u63a5\u8fd0\u884c\uff0c\u62f7\u8d1d\u8bc1\u4e66\u5230resources\u8def\u5f84\n$ mkdir -p asset-app/src/main/resources/conf\n$ cp -r nodes/127.0.0.1/sdk/* asset-app/src/main/resources/conf\n")),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"\u4e1a\u52a1\u903b\u8f91\u5f00\u53d1")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u901a\u8fc73\u4e2d\u7684\u7f16\u8bd1\u914d\u7f6e\u8fdb\u884c\u7f16\u8bd1, \u5c06\u5408\u7ea6\u5f15\u5165\u5230\u9879\u76ee\u4e2d.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd ~/fisco\ncp console/contracts/sdk/java/org/fisco/bcos/asset/contract/Asset.java asset-app/src/main/java/org/fisco/bcos/asset/contract/Asset.java\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5f00\u53d1\u4e1a\u52a1\u903b\u8f91")),(0,a.kt)("p",null,"\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"/src/main/java/org/fisco/bcos/asset/client"),"\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa",(0,a.kt)("inlineCode",{parentName:"p"},"AssetClient.java"),"\u7c7b\uff0c\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"Asset.java"),"\u5b9e\u73b0\u5bf9\u5408\u7ea6\u7684\u90e8\u7f72\u4e0e\u8c03\u7528."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"AssetClient.java"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'package org.fisco.bcos.asset.client;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.math.BigInteger;\nimport java.util.List;\nimport java.util.Properties;\nimport org.fisco.bcos.asset.contract.Asset;\nimport org.fisco.bcos.sdk.BcosSDK;\nimport org.fisco.bcos.sdk.abi.datatypes.generated.tuples.generated.Tuple2;\nimport org.fisco.bcos.sdk.client.Client;\nimport org.fisco.bcos.sdk.crypto.keypair.CryptoKeyPair;\nimport org.fisco.bcos.sdk.model.TransactionReceipt;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\n\npublic class AssetClient {\n    static Logger logger = LoggerFactory.getLogger(AssetClient.class);\n\n    private BcosSDK bcosSDK;\n    private Client client;\n    private CryptoKeyPair cryptoKeyPair;\n\n    public void initialize() throws Exception {\n        // \u521d\u59cb\u5316BcoS\u7684SDK\n        @SuppressWarnings("resource")\n        ApplicationContext context =\n                new ClassPathXmlApplicationContext("classpath:applicationContext.xml");\n        bcosSDK = context.getBean(BcosSDK.class);\n        // \u521d\u59cb\u5316\u53ef\u5411\u7fa4\u7ec41\u53d1\u4ea4\u6613\u7684Client\n        client = bcosSDK.getClient(1);\n        // \u968f\u673a\u751f\u6210\u53d1\u9001\u4ea4\u6613\u7684\u516c\u94a5\u4e0e\u79c1\u94a5, \u5e76\u4e14\u5339\u914d\u7ed9Client\n        cryptoKeyPair = client.getCryptoSuite().createKeyPair();\n        client.getCryptoSuite().setCryptoKeyPair(cryptoKeyPair);\n        logger.debug("create client for group1, account address is " + cryptoKeyPair.getAddress());\n    }\n\n    public void deployAssetAndRecordAddr() {\n\n        try {\n            // \u521d\u6b21\u90e8\u7f72\u5408\u7ea6\n            Asset asset = Asset.deploy(client, cryptoKeyPair);\n            System.out.println(\n                    " deploy Asset success, contract address is " + asset.getContractAddress());\n\n            recordAssetAddr(asset.getContractAddress());\n        } catch (Exception e) {\n            System.out.println(" deploy Asset contract failed, error message is  " + e.getMessage());\n        }\n    }\n\n    public void recordAssetAddr(String address) throws FileNotFoundException, IOException {\n        Properties prop = new Properties();\n        prop.setProperty("address", address);\n        final Resource contractResource = new ClassPathResource("contract.properties");\n        FileOutputStream fileOutputStream = new FileOutputStream(contractResource.getFile());\n        prop.store(fileOutputStream, "contract address");\n    }\n\n    public String loadAssetAddr() throws Exception {\n        // load Asset contact address from contract.properties\n        Properties prop = new Properties();\n        final Resource contractResource = new ClassPathResource("contract.properties");\n        prop.load(contractResource.getInputStream());\n\n        String contractAddress = prop.getProperty("address");\n        if (contractAddress == null || contractAddress.trim().equals("")) {\n            throw new Exception(" load Asset contract address failed, please deploy it first. ");\n        }\n        logger.info(" load Asset address from contract.properties, address is {}", contractAddress);\n        return contractAddress;\n    }\n\n    public void queryAssetAmount(String assetAccount) {\n        try {\n            // \u5df2\u77e5\u5408\u7ea6\u5730\u5740\u6216\u5df2\u90e8\u7f72\u5408\u7ea6\u65f6\u52a0\u8f7d\u5408\u7ea6\n            String contractAddress = loadAssetAddr();\n            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);\n            // \u8c03\u7528select\u63a5\u53e3\n            Tuple2<BigInteger, BigInteger> result = asset.select(assetAccount);\n            if (result.getValue1().compareTo(new BigInteger("0")) == 0) {\n                System.out.printf(" asset account %s, value %s \\n", assetAccount, result.getValue2());\n            } else {\n                System.out.printf(" %s asset account is not exist \\n", assetAccount);\n            }\n        } catch (Exception e) {\n            logger.error(" queryAssetAmount exception, error message is {}", e.getMessage());\n\n            System.out.printf(" query asset account failed, error message is %s\\n", e.getMessage());\n        }\n    }\n\n    public void registerAssetAccount(String assetAccount, BigInteger amount) {\n        try {\n            String contractAddress = loadAssetAddr();\n\n            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);\n            // \u8c03\u7528register\u63a5\u53e3\n            TransactionReceipt receipt = asset.register(assetAccount, amount);\n            List<Asset.RegisterEventEventResponse> response = asset.getRegisterEventEvents(receipt);\n            if (!response.isEmpty()) {\n                if (response.get(0).ret.compareTo(new BigInteger("0")) == 0) {\n                    System.out.printf(\n                            " register asset account success => asset: %s, value: %s \\n", assetAccount, amount);\n                } else {\n                    System.out.printf(\n                            " register asset account failed, ret code is %s \\n", response.get(0).ret.toString());\n                }\n            } else {\n                System.out.println(" event log not found, maybe transaction not exec. ");\n            }\n        } catch (Exception e) {\n            logger.error(" registerAssetAccount exception, error message is {}", e.getMessage());\n            System.out.printf(" register asset account failed, error message is %s\\n", e.getMessage());\n        }\n    }\n\n    public void transferAsset(String fromAssetAccount, String toAssetAccount, BigInteger amount) {\n        try {\n            String contractAddress = loadAssetAddr();\n            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);\n            // \u8c03\u7528transfer\u63a5\u53e3\n            TransactionReceipt receipt = asset.transfer(fromAssetAccount, toAssetAccount, amount);\n            List<Asset.TransferEventEventResponse> response = asset.getTransferEventEvents(receipt);\n            if (!response.isEmpty()) {\n                if (response.get(0).ret.compareTo(new BigInteger("0")) == 0) {\n                    System.out.printf(\n                            " transfer success => from_asset: %s, to_asset: %s, amount: %s \\n",\n                            fromAssetAccount, toAssetAccount, amount);\n                } else {\n                    System.out.printf(\n                            " transfer asset account failed, ret code is %s \\n", response.get(0).ret.toString());\n                }\n            } else {\n                System.out.println(" event log not found, maybe transaction not exec. ");\n            }\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            // e.printStackTrace();\n\n            logger.error(" registerAssetAccount exception, error message is {}", e.getMessage());\n            System.out.printf(" register asset account failed, error message is %s\\n", e.getMessage());\n        }\n    }\n\n    public static void Usage() {\n        System.out.println(" Usage:");\n        System.out.println(\n                "\\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient deploy");\n        System.out.println(\n                "\\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient query account");\n        System.out.println(\n                "\\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient register account value");\n        System.out.println(\n                "\\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient transfer from_account to_account amount");\n        System.exit(0);\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length < 1) {\n            Usage();\n        }\n\n        AssetClient client = new AssetClient();\n        client.initialize();\n\n        switch (args[0]) {\n            case "deploy":\n                client.deployAssetAndRecordAddr();\n                break;\n            case "query":\n                if (args.length < 2) {\n                    Usage();\n                }\n                client.queryAssetAmount(args[1]);\n                break;\n            case "register":\n                if (args.length < 3) {\n                    Usage();\n                }\n                client.registerAssetAccount(args[1], new BigInteger(args[2]));\n                break;\n            case "transfer":\n                if (args.length < 4) {\n                    Usage();\n                }\n                client.transferAsset(args[1], args[2], new BigInteger(args[3]));\n                break;\n            default:\n            {\n                Usage();\n            }\n        }\n        System.exit(0);\n    }\n\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728",(0,a.kt)("inlineCode",{parentName:"li"},"asset-app/tool"),"\u76ee\u5f55\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"AssetClient"),"\u7684\u811a\u672c",(0,a.kt)("inlineCode",{parentName:"li"},"asset_run.sh"),". \u5185\u5bb9\u5982\u4e0b:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'#!/bin/bash\n\nfunction usage()\n{\n    echo " Usage : "\n    echo "   bash asset_run.sh deploy"\n    echo "   bash asset_run.sh query    asset_account "\n    echo "   bash asset_run.sh register asset_account asset_amount "\n    echo "   bash asset_run.sh transfer from_asset_account to_asset_account amount "\n    echo " "\n    echo " "\n    echo "examples : "\n    echo "   bash asset_run.sh deploy "\n    echo "   bash asset_run.sh register  Asset0  10000000 "\n    echo "   bash asset_run.sh register  Asset1  10000000 "\n    echo "   bash asset_run.sh transfer  Asset0  Asset1 11111 "\n    echo "   bash asset_run.sh query Asset0"\n    echo "   bash asset_run.sh query Asset1"\n    exit 0\n}\n\n    case $1 in\n    deploy)\n            [ $# -lt 1 ] && { usage; }\n            ;;\n    register)\n            [ $# -lt 3 ] && { usage; }\n            ;;\n    transfer)\n            [ $# -lt 4 ] && { usage; }\n            ;;\n    query)\n            [ $# -lt 2 ] && { usage; }\n            ;;\n    *)\n        usage\n            ;;\n    esac\n\n    java -Djdk.tls.namedGroups="secp256k1" -cp \'apps/*:conf/:lib/*\' org.fisco.bcos.asset.client.AssetClient $@\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728",(0,a.kt)("inlineCode",{parentName:"li"},"asset-app/test/resources"),"\u76ee\u5f55\u4e0b\u521b\u5efa",(0,a.kt)("inlineCode",{parentName:"li"},"log4j.properties"),". \u5185\u5bb9\u5982\u4e0b:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"### set log levels ###\nlog4j.rootLogger=DEBUG, file\n\n### output the log information to the file ###\nlog4j.appender.file=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.file.DatePattern='_'yyyyMMddHH'.log'\nlog4j.appender.file.File=./log/sdk.log\nlog4j.appender.file.Append=true\nlog4j.appender.file.filter.traceFilter=org.apache.log4j.varia.LevelRangeFilter\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=[%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C{1}.%M(%L) | %m%n\n\n###output the log information to the console ###\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=[%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C{1}.%M(%L) | %m%n\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4fee\u6539build.gradle\u6587\u4ef6\u4e2d\u7684\u7f16\u8bd1\u4efb\u52a1.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"dependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile (\"org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2\")\n    compile spring\n    compile ('org.slf4j:slf4j-log4j12:1.7.25')\n    runtime ('org.slf4j:slf4j-log4j12:1.7.25')\n}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u914d\u7f6e\u6dfb\u52a0build.gradle\u6587\u4ef6\u4e2d\u7684\u7f16\u8bd1\u4efb\u52a1. \u76f4\u63a5\u52a0\u5165\u5230\u5e95\u90e8\u5373\u53ef.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"jar {\n    destinationDir file('dist/apps')\n    archiveName project.name + '.jar'\n    exclude '**/*.xml'\n    exclude '**/*.properties'\n    exclude '**/*.crt'\n    exclude '**/*.key'\n\n    doLast {\n        copy {\n            from configurations.runtime\n            into 'dist/lib'\n        }\n        copy {\n            from file('src/test/resources/')\n            into 'dist/conf'\n        }\n        copy {\n            from file('tool/')\n            into 'dist/'\n        }\n        copy {\n            from file('src/test/resources/contract')\n            into 'dist/contract'\n        }\n    }\n}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5f15\u5165\u65e5\u5fd7\u5e93, \u5728",(0,a.kt)("inlineCode",{parentName:"li"},"asset-app/test/resources"),"\u76ee\u5f55\u4e0b, \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"contract.properties"),"\u6587\u4ef6, \u7528\u4e8e\u5e94\u7528\u5728\u8fd0\u884c\u65f6\u5b58\u653e\u5408\u7ea6\u5730\u5740.")),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},"\u5b8c\u6210\u5f00\u53d1")),(0,a.kt)("p",null,"\u6700\u7ec8\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"|-- build.gradle // gradle\u914d\u7f6e\u6587\u4ef6\n|-- gradle\n|   |-- wrapper\n|       |-- gradle-wrapper.jar // \u7528\u4e8e\u4e0b\u8f7dGradle\u7684\u76f8\u5173\u4ee3\u7801\u5b9e\u73b0\n|       |-- gradle-wrapper.properties // wrapper\u6240\u4f7f\u7528\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u6bd4\u5982gradle\u7684\u7248\u672c\u7b49\u4fe1\u606f\n|-- gradlew // Linux\u6216\u8005Unix\u4e0b\u7528\u4e8e\u6267\u884cwrapper\u547d\u4ee4\u7684Shell\u811a\u672c\n|-- gradlew.bat // Windows\u4e0b\u7528\u4e8e\u6267\u884cwrapper\u547d\u4ee4\u7684\u6279\u5904\u7406\u811a\u672c\n|-- src\n|   |-- main\n|   |   |-- java\n|   |   |     |-- org\n|   |   |          |-- fisco\n|   |   |                |-- bcos\n|   |   |                      |-- asset\n|   |   |                            |-- client // \u653e\u7f6e\u5ba2\u6237\u7aef\u8c03\u7528\u7c7b\n|   |   |                                   |-- AssetClient.java\n|   |   |                            |-- contract // \u653e\u7f6eJava\u5408\u7ea6\u7c7b\n|   |   |                                   |-- Asset.java\n|   |   |-- resources\n|   |        |-- conf\n|   |               |-- ca.crt\n|   |               |-- node.crt\n|   |               |-- node.key\n|   |               |-- sdk.crt\n|   |               |-- sdk.key\n|   |               |-- sdk.publickey\n|   |        |-- applicationContext.xml // \u9879\u76ee\u914d\u7f6e\u6587\u4ef6\n|   |        |-- contract.properties // \u5b58\u50a8\u90e8\u7f72\u5408\u7ea6\u5730\u5740\u7684\u6587\u4ef6\n|   |        |-- log4j.properties // \u65e5\u5fd7\u914d\u7f6e\u6587\u4ef6\n|   |        |-- contract //\u5b58\u653esolidity\u7ea6\u6587\u4ef6\n|   |                |-- Asset.sol\n|   |                |-- Table.sol\n|   |-- test\n|       |-- resources // \u5b58\u653e\u4ee3\u7801\u8d44\u6e90\u6587\u4ef6\n|           |-- conf\n|                  |-- ca.crt\n|                  |-- node.crt\n|                  |-- node.key\n|                  |-- sdk.crt\n|                  |-- sdk.key\n|                  |-- sdk.publickey\n|           |-- applicationContext.xml // \u9879\u76ee\u914d\u7f6e\u6587\u4ef6\n|           |-- contract.properties // \u5b58\u50a8\u90e8\u7f72\u5408\u7ea6\u5730\u5740\u7684\u6587\u4ef6\n|           |-- log4j.properties // \u65e5\u5fd7\u914d\u7f6e\u6587\u4ef6\n|           |-- contract //\u5b58\u653esolidity\u7ea6\u6587\u4ef6\n|                   |-- Asset.sol\n|                   |-- Table.sol\n|\n|-- tool\n    |-- asset_run.sh // \u9879\u76ee\u8fd0\u884c\u811a\u672c\n")),(0,a.kt)("ol",{start:7},(0,a.kt)("li",{parentName:"ol"},"\u8fd0\u884c\u5e94\u7528")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u90e8\u7f72\u5e94\u7528"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7f16\u8bd1\u9879\u76ee"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"cd ~/fisco/asset-app\n./gradlew build\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u90e8\u7f72",(0,a.kt)("inlineCode",{parentName:"p"},"Asset.sol"),"\u5408\u7ea6"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"# \u8fdb\u5165dist\u76ee\u5f55\ncd dist\nbash asset_run.sh deploy\n"))))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5e94\u7528\u7684\u4e3b\u8981\u529f\u80fd:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6ce8\u518c\u8d44\u4ea7\u8d26\u6237"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"bash asset_run.sh register Foo 100000\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u67e5\u8be2\u8d26\u6237\u8d44\u4ea7"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"bash asset_run.sh query Foo\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8f6c\u79fb\u8d26\u6237\u8d44\u4ea7"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"bash asset_run.sh transfer Foo Bar  50000\n")))))),(0,a.kt)("p",null,"\u4ee5\u4e0a\u5c31\u662f\u5168\u90e8\u5185\u5bb9."))}u.isMDXComponent=!0}}]);