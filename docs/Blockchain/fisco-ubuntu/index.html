<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Blockchain/fisco-ubuntu">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">📠 Ubuntu搭建Fisco区块链 | Suning Yao / msfew | Blogs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fewwwww.github.io/docs/Blockchain/fisco-ubuntu/"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="📠 Ubuntu搭建Fisco区块链 | Suning Yao / msfew | Blogs"><meta data-rh="true" name="description" content="1. 搭建单群组四节点FISCO BCOS联盟链"><meta data-rh="true" property="og:description" content="1. 搭建单群组四节点FISCO BCOS联盟链"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://fewwwww.github.io/docs/Blockchain/fisco-ubuntu/"><link data-rh="true" rel="alternate" href="https://fewwwww.github.io/docs/Blockchain/fisco-ubuntu/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://fewwwww.github.io/docs/Blockchain/fisco-ubuntu/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ef16c1ee.css">
<link rel="preload" href="/assets/js/runtime~main.ef31b1ec.js" as="script">
<link rel="preload" href="/assets/js/main.76142136.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">blog.suningyao</b></a><a class="navbar__item navbar__link" href="/docs/intro/">About</a><a class="navbar__item navbar__link" href="/docs/Blockchain/thoughts/">Blockchain</a><a class="navbar__item navbar__link" href="/docs/Code/incubate/">Code</a><a class="navbar__item navbar__link" href="/docs/Sports/racquets/">Sports</a><a class="navbar__item navbar__link" href="/docs/Music/music-n-me/">Music</a><a class="navbar__item navbar__link" href="/docs/Life/valley/">Life</a></div><div class="navbar__items navbar__items--right"><a href="https://sny.is/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Links<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://suningyao.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Portfolio<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/fewwwww/blog.suningyao.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>blog.suningyao</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro/">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Blockchain/thoughts/">🔒⛓️ Blockchain</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/thoughts/">💡 关于区块链的一些个人思考</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/zero-knowledge/">🎭 从零知识到零知识证明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/hack-award/">🏃 组队参与黑客松的获奖情况</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/os/">❤️ WeLightOS开发的心路历程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/research-dao/">🤝 一天内组建一个研究 DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/erc-721/">🎨 ERC标准以及NFT应用开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Blockchain/fisco-ubuntu/">📠 Ubuntu搭建Fisco区块链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/solidity/">🧟‍♂️ 通过互动教程学习Solidity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/fisco-arm-mac/">💪 Arm Mac搭建Fisco区块链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/hack-call/">🔬 调用无前端无合约的智能合约</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/cairo-0/">🇪🇬 学习Cairo智能合约开发 (零)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/reborn/">🐣 观点: Crypto 崩溃融合新生</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/composability/">🧩 观点: Crypto 破碎的可组合性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/op-zk/">🚂 观点: OP与ZK机制的差异</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/overachieve/">🔍 观点: 强化以太坊</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/rollup-diss/">🔍 观点: 批评一下 L2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/zk-criticism/">😤 观点: 批评一下 ZK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/ai-rollup/">🤯 观点: AI Rollup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/app-chain/">🏠 读懂App-chain: 优势与缺点</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/arbitrum/">⛰️ 读懂Arbitrum: L2 第一生态</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/architecture/">🔑 读懂DApp: Web3原生架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/arweave/">🐘 读懂Arweave: Web3 Layer 0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/automation/">🦿 读懂Automation与Bot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/chronicle/">📖 读懂Crypto: 思潮编年史</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/dfinity/">☁️ 读懂Dfinity: 云计算+区块链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/feed/">🥄 读懂Feed: 回到过去的 Web3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/hermez/">📐 读懂Polygon: Hermez zkEVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/hyper-oracle-notes/">📒 读懂读懂Hyper Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/hyper-oracle-posts/">👻 为Hyper Oracle所写的研究</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/hyper-oracle/">🌈 读懂Hyper Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/indexing-keeper/">🗿 读懂indexing与keeper协议</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/mev/">🤖️ 读懂MEV: 描绘, 分类, 支配</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/modular/">🍱 读懂模块化: 彻底 Rollup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/next-gen-op/">👨‍⚖️ 读懂OP: OP第二代架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/nft-redefined/">🌫 读懂NFT: 不止是艺术品</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/oracle-pos/">🤔️ 读懂预言机的不安全PoS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/pow/">⚒️ 读懂 PoW: 无处不在</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/privacy/">🎭 读懂隐私: Web3 的另一面</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/rollup/">📜 读懂Rollup: 爱恨好与坏</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/scp/">🎲 读懂SCP: 基于存储设计范式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/starkware/">🇮🇱 读懂StarkWare: 以太坊zk L2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/twap/">🧙‍♂️ 读懂TWAP: 下一代预言机</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/uniswap-interface-fee/">🤝 对于 Uniswap 前端费用的讨论</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/utxoracle/">💬 对于 UTXOracle 的讨论</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/world-supercomputer/">👾 读懂World Supercomputer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/zkpos/">🛰️ 读懂zkPoS: 端到端Trustless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/zkvm/">🧮 读懂zk: zk, zkEVM, zkVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/zkwasm/">💥 读懂zkWASM: zkVM的未来</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Code/incubate/">💄📱 Code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Sports/racquets/">🎾🦾 Sports</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Music/music-n-me/">🎙🎧 Music</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Life/valley/">☀️👀 Life</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">🔒⛓️ Blockchain</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">📠 Ubuntu搭建Fisco区块链</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>📠 Ubuntu搭建Fisco区块链</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-搭建单群组四节点fisco-bcos联盟链">1. 搭建单群组四节点FISCO BCOS联盟链<a href="#1-搭建单群组四节点fisco-bcos联盟链" class="hash-link" aria-label="1. 搭建单群组四节点FISCO BCOS联盟链的直接链接" title="1. 搭建单群组四节点FISCO BCOS联盟链的直接链接">​</a></h2><p>使用开发部署工具build_chain.sh脚本快速搭建FISCO BCOS区块链, 本次以Ubuntu 16.04 64bit系统为例操作.</p><p>部署工具build_chain脚本目标是让用户最快地搭建，对于企业级应用部署FISCO BCOS请参考运维部署工具.</p><p>官方推荐下载预编译程序进行使用. 同时提供<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/get_executable.html" target="_blank" rel="noopener noreferrer">Docker程序与未编译源码</a>.</p><blockquote><p>ARM架构linux与X86架构macOS需要自行编译, ARM架构macOS暂未适配.</p><p>CentOS系统下openssl默认路径在开始搭建时可能会出现路径错误.</p><p>推荐新手开发者使用Ubuntu平台搭建.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第一步-安装依赖">第一步: 安装依赖<a href="#第一步-安装依赖" class="hash-link" aria-label="第一步: 安装依赖的直接链接" title="第一步: 安装依赖的直接链接">​</a></h3><hr><ul><li>使用build_chain.sh脚本需要先安装openssl与curl.
因此先安装这两个依赖.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y openssl curl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第二步-创建目录-下载脚本">第二步: 创建目录, 下载脚本<a href="#第二步-创建目录-下载脚本" class="hash-link" aria-label="第二步: 创建目录, 下载脚本的直接链接" title="第二步: 创建目录, 下载脚本的直接链接">​</a></h3><hr><ul><li>首先创建fisco目录, 并且进入刚创建的目录.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~ &amp;&amp; mkdir -p fisco &amp;&amp; cd fisco</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>通过curl下载build_chain.sh脚本</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -#LO https://github.com/FISCO-BCOS/FISCO-BCOS/releases/download/v2.7.2/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>如果因为网络问题无法正常下载, 可以尝试更换链接
<code>curl -#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/releases/v2.7.2/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</code></p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第三步-搭建联盟链">第三步: 搭建联盟链<a href="#第三步-搭建联盟链" class="hash-link" aria-label="第三步: 搭建联盟链的直接链接" title="第三步: 搭建联盟链的直接链接">​</a></h3><hr><p>注意要确保机器的30300~30303，20200~20203，8545~8548端口没有被占用, 否则会导致后续无法成功搭建.</p><ul><li>在fisco目录下执行指令, 生成一条单群组4节点的FISCO链.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bash build_chain.sh -l 127.0.0.1:4 -p 30300,20200,8545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>-p选项为起始端口, 30300为p2p_port, 20200为channel_port, 8545为jsonrpc_port.
更多搭建时的选项可以参考<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/build_chain.html" target="_blank" rel="noopener noreferrer">开发部署工具</a>.</p></blockquote><p>命令执行成功会在最后一行显示<code>[INFO] All completed. Files in /home/ubuntu/fisco/nodes</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第四步-启动节点">第四步: 启动节点<a href="#第四步-启动节点" class="hash-link" aria-label="第四步: 启动节点的直接链接" title="第四步: 启动节点的直接链接">​</a></h3><hr><ul><li>通过脚本启动所有所有节点</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bash nodes/127.0.0.1/start_all.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>四个节点均启动成功时会显示</p><blockquote><p>try to start node0</p><p>try to start node1</p><p>try to start node2</p><p>try to start node3</p><p>node0 start successfully</p><p>node1 start successfully</p><p>node2 start successfully</p><p>node3 start successfully</p></blockquote><ul><li>验证节点是否被成功启动</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ps -ef | grep -v grep | grep fisco-bcos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>若显示四行数据, 则FISCO BCOS链成功启动</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第五步-检查日志输出">第五步: 检查日志输出<a href="#第五步-检查日志输出" class="hash-link" aria-label="第五步: 检查日志输出的直接链接" title="第五步: 检查日志输出的直接链接">​</a></h3><hr><ul><li>查看节点链接的其他节点个数</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tail -f nodes/127.0.0.1/node0/log/log*  | grep connected</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果输出正常中每十秒会弹出一行信息.</p><blockquote><p>info|2021-06-25 09:06:04.855163|<!-- -->[P2P][Service]<!-- --> heartBeat,connected count=3</p><p>info|2021-06-25 09:06:14.859185|<!-- -->[P2P][Service]<!-- --> heartBeat,connected count=3</p><p>info|2021-06-25 09:06:24.863178|<!-- -->[P2P][Service]<!-- --> heartBeat,connected count=3</p></blockquote><p>输出中可以看到第0个节点与其他3个节点相连.</p><p>如果检查其他节点, 输出信息相同.</p><ul><li>检查链中是否存在共识</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tail -f nodes/127.0.0.1/node0/log/log*  | grep +++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果共识正常会弹出如下信息.</p><blockquote><p>info|2021-06-25 08:59:58.199388|<!-- -->[g:1][CONSENSUS]<!-- -->[SEALER]<!-- -->++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=c7e899af...</p><p>info|2021-06-25 09:08:20.095493|<!-- -->[g:1][CONSENSUS]<!-- -->[SEALER]<!-- -->++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=fbe312af...</p><p>info|2021-06-25 09:08:24.135362|<!-- -->[g:1][CONSENSUS]<!-- -->[SEALER]<!-- -->++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=6e7ef1a2...</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-配置与使用控制台">2. 配置与使用控制台<a href="#2-配置与使用控制台" class="hash-link" aria-label="2. 配置与使用控制台的直接链接" title="2. 配置与使用控制台的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第一步-准备控制台依赖">第一步: 准备控制台依赖<a href="#第一步-准备控制台依赖" class="hash-link" aria-label="第一步: 准备控制台依赖的直接链接" title="第一步: 准备控制台依赖的直接链接">​</a></h3><hr><p>我们通过脚本下载的程序为最新版本.
2.6版本之后的控制台均用Java SDK实现.</p><p>新版控制台文档参考<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/console/console_of_java_sdk.html" target="_blank" rel="noopener noreferrer">此处</a>.</p><ul><li>安装Java</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y default-jdk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>回到fisco目录并且下载并运行download_console的脚本</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco &amp;&amp; curl -LO https://github.com/FISCO-BCOS/console/releases/download/v2.7.2/download_console.sh &amp;&amp; bash download_console.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>如果因为网络问题无法正常下载, 可以尝试将中间的链接替换为
<code>curl -#LO https://gitee.com/FISCO-BCOS/console/raw/master/tools/download_console.sh</code></p></blockquote><ul><li>将默认的控制台配置拷贝到对应的路径与名称</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp -n console/conf/config-example.toml console/conf/config.toml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>将控制台证书拷贝到对应路径</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp -r nodes/127.0.0.1/sdk/* console/conf/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第二步-启动并使用控制台">第二步: 启动并使用控制台<a href="#第二步-启动并使用控制台" class="hash-link" aria-label="第二步: 启动并使用控制台的直接链接" title="第二步: 启动并使用控制台的直接链接">​</a></h3><hr><ul><li>进入控制台路径并启动控制台</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/console &amp;&amp; bash start.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>控制台启动成功后会显示版本号以及由$符号组成的ASCII art</p><blockquote><p>Welcome to FISCO BCOS console(2.7.2)!</p></blockquote><ul><li>在控制台中获取信息</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">===================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getNodeVersion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClientVersion{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    version=&#x27;2.7.2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    supportedVersion=&#x27;2.7.2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    chainId=&#x27;1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buildTime=&#x27;20210201 10:03:03&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buildType=&#x27;Linux/clang/Release&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gitBranch=&#x27;HEAD&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gitCommitHash=&#x27;4c8a5bbe44c19db8a002017ff9dbb16d3d28e9da&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getPeers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PeerInfo{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodeID=&#x27;6d9f62cea16879e16ffe4004c64fa717b62c3853c915f79306972da0dac4133f25b97bedfe522d982a3fd606c2ac90ef085a45f1786ea1e5dbd4ad8fdd57b97e&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iPAndPort=&#x27;127.0.0.1:50050&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        node=&#x27;node3&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        agency=&#x27;agency&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        topic=&#x27;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PeerInfo{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodeID=&#x27;fae1c9ff63b77de57759555d0cfcf01f43db418f7d75ecc969c1262364b3d6ae0d53ae92e05adf259e4a56f91369d66ca29c4e9c4e8a6342d23bbdcd9e2fb4ab&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iPAndPort=&#x27;127.0.0.1:50042&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        node=&#x27;node1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        agency=&#x27;agency&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        topic=&#x27;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _block_notify_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PeerInfo{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodeID=&#x27;4fd5a7d73b3f002e76c2e1adbcbdbc0903197a2a10cf449ddc6507d33cd050e414b52aef9d5444f9206aec2cfc0d976e235b10fd9d4fa56c8168e59a6b234ada&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iPAndPort=&#x27;127.0.0.1:30302&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        node=&#x27;node2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        agency=&#x27;agency&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        topic=&#x27;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-部署并调用helloworld的智能合约">3. 部署并调用HelloWorld的智能合约<a href="#3-部署并调用helloworld的智能合约" class="hash-link" aria-label="3. 部署并调用HelloWorld的智能合约的直接链接" title="3. 部署并调用HelloWorld的智能合约的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第一步-部署合约">第一步: 部署合约<a href="#第一步-部署合约" class="hash-link" aria-label="第一步: 部署合约的直接链接" title="第一步: 部署合约的直接链接">​</a></h3><hr><ul><li>为了方便用户快速体验, HelloWorld的合约已经内置于控制台中, 位于控制台目录下contracts/solidity/HelloWorld.sol. 我们直接部署HelloWorld合约.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">deploy HelloWorld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>合约具体内容为:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.24;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 声明变量name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 将name值更新为Hello, World!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function HelloWorld() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &quot;Hello, World!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 调用get方法时返回name的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function get()constant returns(string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 调用set方法时修改name的值为n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function set(string n) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>部署成功后会返回合约地址:</p><blockquote><p>transaction hash: 0x24d98970eb355755f66f8b5e8ba4b94a1e69de0ef53fdff9f0a011ce4c57bdaa</p><p>contract address: {address hash}</p><p>currentAccount: 0xe6925c66ad07d894f066a2229addb2b350d373c3</p></blockquote><ul><li>查看当前区块高度, 调用get接口获取name变量</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getBlockNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; call HelloWorld {address hash} get</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return code: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description: transaction executed successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return message: Success</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return value size:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return types: (STRING)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return values:(Hello, World!)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getBlockNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>get接口不会改变账本状态, 所以调用之后区块高度仍然为1.</p><ul><li>调用set接口设置name变量</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; call HelloWorld {address hash} set &quot;Hello, Fisco BcoS&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction hash: 0x08e2f53419d1e327aa38fa3ce3d6e529927e4f2bac05bea757406b27bf122f1d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction status: 0x0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description: transaction executed successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipt message: Success</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return message: Success</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return values:[]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Event logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Event: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getBlockNumber</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; call HelloWorld {address hash} get</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return code: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description: transaction executed successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return message: Success</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return value size:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return types: (STRING)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Return values:(Hello, Fisco BcoS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再次查看区块高度会发现高度已改变, 再次调用get接口发现返回值已经修改为我们set的值.</p><h1>FISCO BCOS区块链简易的资产管理的开发全过程</h1><p>我们将会开发一个简易的资产管理的系统，并最终实现以下功能：</p><ul><li>能够在区块链上进行资产账户注册</li><li>能够实现不同账户之间的转账</li><li>可以查询账户的资产金额</li></ul><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第一步-应用程序设计">第一步: 应用程序设计<a href="#第一步-应用程序设计" class="hash-link" aria-label="第一步: 应用程序设计的直接链接" title="第一步: 应用程序设计的直接链接">​</a></h3><ul><li><strong>存储设计:</strong></li></ul><p>针对需要实现的功能, 本应用需要设计存储资产管理的表t_asset. 内容如下:</p><table><thead><tr><th>account</th><th>asset_value</th></tr></thead><tbody><tr><td>Alex</td><td>1000</td></tr><tr><td>Bob</td><td>2000</td></tr></tbody></table><ul><li><strong>接口设计:</strong></li></ul><p>按照业务的设计目标，需要实现资产注册，转账，查询资产金额功能，对应功能的接口如下:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 查询账户的资产金额</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return值一： 成功找到账户返回0, 账户不存在返回-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return值二： 资产金额(第一个参数为0时有效)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function select(string account) public constant returns(int256, uint256)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 资产账户注册</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0  资产账户注册成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -1 资产账户已存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -2 其他错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function register(string account, uint256 amount) public returns(int256)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 账户间的资产转移</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   返回值：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0  资产转移成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -1 转移资产账户不存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -2 接收资产账户不存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -3 金额不足</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -4 金额溢出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   -5 其他错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function transfer(string from_asset_account, string to_asset_account, uint256 amount) public returns(int256)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第二步-开发接口源码">第二步: 开发接口源码<a href="#第二步-开发接口源码" class="hash-link" aria-label="第二步: 开发接口源码的直接链接" title="第二步: 开发接口源码的直接链接">​</a></h3><hr><ul><li>编写智能合约</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 进入console/contracts/solidity目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/console/contracts/solidity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 创建Asset.sol合约文件, 进入文件的编写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vi Asset.sol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 将合约内容写入Asset.sol文件.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ** 重要: vim中保存退出为:wq **</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Assert.sol的内容如下:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.24;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Table.sol已在~/fisco/console/contracts/solidity目录下.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 该系统合约文件中的接口由FISCO BCOS底层实现.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 当业务合约需要操作CRUD接口时，均需要引入该接口合约文件.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;./Table.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract Asset {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event RegisterEvent(int256 ret, string account, uint256 asset_value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event TransferEvent(int256 ret, string from_account, string to_account, uint256 amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 构造函数中创建t_asset表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        createTable();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function createTable() private {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TableFactory tf = TableFactory(0x1001);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 资产管理表, key : account, field : asset_value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |      资产账户(key)   |   资产金额(field)   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |-------------------- |-------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |        account      |    asset_value    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |---------------------|-------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tf.createTable(&quot;t_asset&quot;, &quot;account&quot;, &quot;asset_value&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function openTable() private returns(Table) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TableFactory tf = TableFactory(0x1001);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Table table = tf.openTable(&quot;t_asset&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return table;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    描述 : 根据资产账户查询资产金额</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    参数 ：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            account : 资产账户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    返回值：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            参数一： 成功找到账户返回0, 账户不存在返回-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            参数二： 资产金额(第一个参数为0时有效)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function select(string account) public constant returns(int256, uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 打开表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Table table = openTable();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 查询</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Entries entries = table.select(account, table.newCondition());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 asset_value = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (0 == uint256(entries.size())) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (-1, asset_value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Entry entry = entries.get(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (0, uint256(entry.getInt(&quot;asset_value&quot;)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    描述 : 资产注册</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    参数 ：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            account : 资产账户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            amount  : 资产金额</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    返回值：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            0  资产账户注册成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -1 资产账户已存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -2 其他错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function register(string account, uint256 asset_value) public returns(int256){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 ret_code = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 ret= 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 temp_asset_value = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 查询账户是否存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ret, temp_asset_value) = select(account);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(ret != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Table table = openTable();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Entry entry = table.newEntry();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            entry.set(&quot;account&quot;, account);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            entry.set(&quot;asset_value&quot;, int256(asset_value));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 插入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            int count = table.insert(account, entry);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (count == 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // 成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ret_code = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // 失败? 无权限或者其他错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ret_code = -2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 账户已存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit RegisterEvent(ret_code, account, asset_value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    描述 : 资产转移</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    参数 ：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            from_account : 转移资产的账户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            to_account ： 接收资产的账户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            amount ： 转移金额数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    返回值：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            0  资产转移成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -1 转移资产账户不存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -2 接收资产账户不存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -3 金额不足</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -4 金额溢出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -5 其他错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(string from_account, string to_account, uint256 amount) public returns(int256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 查询转移资产账户信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int ret_code = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 ret = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 from_asset_value = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 to_asset_value = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 转移账户是否存在?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ret, from_asset_value) = select(from_account);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(ret != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 转移账户不存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 接受账户是否存在?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ret, to_asset_value) = select(to_account);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(ret != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 接收资产的账户不存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(from_asset_value &lt; amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 转移资产的账户金额不足</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (to_asset_value + amount &lt; to_asset_value) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -4;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 接收账户金额溢出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Table table = openTable();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Entry entry0 = table.newEntry();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry0.set(&quot;account&quot;, from_account);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry0.set(&quot;asset_value&quot;, int256(from_asset_value - amount));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 更新转账账户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int count = table.update(from_account, entry0, table.newCondition());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(count != 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 失败? 无权限或者其他错误?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Entry entry1 = table.newEntry();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry1.set(&quot;account&quot;, to_account);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry1.set(&quot;asset_value&quot;, int256(to_asset_value + amount));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 更新接收账户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        table.update(to_account, entry1, table.newCondition());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit TransferEvent(ret_code, from_account, to_account, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ret_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>保存并退出后运行ls, 可以看到Assert.sol和Table.sol.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第三步-编译智能合约">第三步: 编译智能合约<a href="#第三步-编译智能合约" class="hash-link" aria-label="第三步: 编译智能合约的直接链接" title="第三步: 编译智能合约的直接链接">​</a></h3><hr><p>控制台提供的编译工具可以编译出ABI和BIN文件, 使得.sol文件可以部署到区块链上.</p><p>同时还会自动生成一个与编译的智能合约同名的根据ABI生成的合约Java类.
这个Java类帮助用户解析好了参数, 提供同名的方法.</p><p>当应用需要部署和调用合约时, 可以直接调用该合约类的对应方法, 传入指定参数即可.</p><ul><li>编译合约</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 切换到fisco/console/目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/console/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 编译合约, 指定Java的包名参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./sol2java.sh org.fisco.bcos.asset.contract</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>运行成功后会显示<code>INFO: Compile for solidity TableTest.sol success.</code></p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第四步-创建区块链应用项目">第四步: 创建区块链应用项目<a href="#第四步-创建区块链应用项目" class="hash-link" aria-label="第四步: 创建区块链应用项目的直接链接" title="第四步: 创建区块链应用项目的直接链接">​</a></h3><blockquote><p>本步骤项目源码可以通过如下命令直接获得, 获得后可以直接跳过本步骤:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -#LO https://github.com/FISCO-BCOS/LargeFiles/raw/master/tools/asset-app.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 解压得到Java工程项目asset-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -zxf asset-app.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><ol><li>安装Java与IDE</li></ol><p>在开发环境下载Java JDK 14(JDK1.8 至JDK 14都支持); 下载IntelliJ IDE.</p><ol start="2"><li>创建Java工程</li></ol><p>在IntelliJ IDE中创建一个新项目, 选择Gradle, 勾选Java, 输入工程名.</p><ol start="3"><li>引入Java SDK</li></ol><p>在build.gradle文件中替换repositories, 加入Java SDK的引用.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">repositories {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mavenCentral()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maven {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url &quot;http://maven.aliyun.com/nexus/content/groups/public/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>将dependencies替换, 引入Java SDK jar包.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: &#x27;junit&#x27;, name: &#x27;junit&#x27;, version: &#x27;4.12&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&#x27;org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>配置SDK证书</li></ol><ul><li>修改build.gradle文件, 引入Spring框架.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 加入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def spring_version = &quot;4.3.27.RELEASE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List spring = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-core:$spring_version&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-beans:$spring_version&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-context:$spring_version&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-tx:$spring_version&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//替换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: &#x27;junit&#x27;, name: &#x27;junit&#x27;, version: &#x27;4.12&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&quot;org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile spring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>在<code>asset-app/test/resources</code>目录下创建配置文件<code>applicationContext.xml</code>, 写入配置内容(如下).</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;bean id=&quot;defaultConfigProperty&quot; class=&quot;org.fisco.bcos.sdk.config.model.ConfigProperty&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;cryptoMaterial&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;certPath&quot; value=&quot;conf&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;network&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;peers&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;list&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;value&gt;127.0.0.1:20200&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;value&gt;127.0.0.1:20201&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;/list&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/entry&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;account&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;keyStoreDir&quot; value=&quot;account&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;accountAddress&quot; value=&quot;&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;accountFileFormat&quot; value=&quot;pem&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;password&quot; value=&quot;&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;accountFilePath&quot; value=&quot;&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;threadPool&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;channelProcessorThreadSize&quot; value=&quot;16&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;receiptProcessorThreadSize&quot; value=&quot;16&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;maxBlockingQueueSize&quot; value=&quot;102400&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/bean&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;bean id=&quot;defaultConfigOption&quot; class=&quot;org.fisco.bcos.sdk.config.ConfigOption&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;constructor-arg name=&quot;configProperty&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;ref bean=&quot;defaultConfigProperty&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/constructor-arg&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/bean&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;bean id=&quot;bcosSDK&quot; class=&quot;org.fisco.bcos.sdk.BcosSDK&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;constructor-arg name=&quot;configOption&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;ref bean=&quot;defaultConfigOption&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/constructor-arg&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/bean&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/beans&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>我们指定了证书存放的位certPath的值为<code>conf</code>, 接下去我们把SDK用于连接节点的证书放到指定的<code>conf</code>目录下. 如果路径不相同, 需要自行调整.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 假设我们将asset-app放在~/fisco目录下 进入~/fisco目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd ~/fisco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 创建放置证书的文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir -p asset-app/src/test/resources/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 拷贝节点证书到项目的资源目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cp -r nodes/127.0.0.1/sdk/* asset-app/src/test/resources/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 若在IDE直接运行，拷贝证书到resources路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir -p asset-app/src/main/resources/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cp -r nodes/127.0.0.1/sdk/* asset-app/src/main/resources/conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>业务逻辑开发</li></ol><ul><li>通过3中的编译配置进行编译, 将合约引入到项目中.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp console/contracts/sdk/java/org/fisco/bcos/asset/contract/Asset.java asset-app/src/main/java/org/fisco/bcos/asset/contract/Asset.java</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>开发业务逻辑</li></ul><p>在<code>/src/main/java/org/fisco/bcos/asset/client</code>目录下，创建<code>AssetClient.java</code>类，调用<code>Asset.java</code>实现对合约的部署与调用.</p><p><code>AssetClient.java</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package org.fisco.bcos.asset.client;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileNotFoundException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileOutputStream;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.IOException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.math.BigInteger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.List;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.Properties;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.asset.contract.Asset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.BcosSDK;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.abi.datatypes.generated.tuples.generated.Tuple2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.client.Client;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.crypto.keypair.CryptoKeyPair;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.model.TransactionReceipt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.slf4j.Logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.slf4j.LoggerFactory;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.ApplicationContext;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.core.io.ClassPathResource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.core.io.Resource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.core.io.support.PathMatchingResourcePatternResolver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AssetClient {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static Logger logger = LoggerFactory.getLogger(AssetClient.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private BcosSDK bcosSDK;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Client client;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private CryptoKeyPair cryptoKeyPair;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void initialize() throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 初始化BcoS的SDK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @SuppressWarnings(&quot;resource&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ApplicationContext context =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                new ClassPathXmlApplicationContext(&quot;classpath:applicationContext.xml&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bcosSDK = context.getBean(BcosSDK.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 初始化可向群组1发交易的Client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        client = bcosSDK.getClient(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 随机生成发送交易的公钥与私钥, 并且匹配给Client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cryptoKeyPair = client.getCryptoSuite().createKeyPair();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        client.getCryptoSuite().setCryptoKeyPair(cryptoKeyPair);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.debug(&quot;create client for group1, account address is &quot; + cryptoKeyPair.getAddress());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void deployAssetAndRecordAddr() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 初次部署合约</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.deploy(client, cryptoKeyPair);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot; deploy Asset success, contract address is &quot; + asset.getContractAddress());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            recordAssetAddr(asset.getContractAddress());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot; deploy Asset contract failed, error message is  &quot; + e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void recordAssetAddr(String address) throws FileNotFoundException, IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties prop = new Properties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.setProperty(&quot;address&quot;, address);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final Resource contractResource = new ClassPathResource(&quot;contract.properties&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FileOutputStream fileOutputStream = new FileOutputStream(contractResource.getFile());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.store(fileOutputStream, &quot;contract address&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String loadAssetAddr() throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // load Asset contact address from contract.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties prop = new Properties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final Resource contractResource = new ClassPathResource(&quot;contract.properties&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.load(contractResource.getInputStream());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String contractAddress = prop.getProperty(&quot;address&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (contractAddress == null || contractAddress.trim().equals(&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Exception(&quot; load Asset contract address failed, please deploy it first. &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.info(&quot; load Asset address from contract.properties, address is {}&quot;, contractAddress);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return contractAddress;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void queryAssetAmount(String assetAccount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 已知合约地址或已部署合约时加载合约</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String contractAddress = loadAssetAddr();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 调用select接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Tuple2&lt;BigInteger, BigInteger&gt; result = asset.select(assetAccount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (result.getValue1().compareTo(new BigInteger(&quot;0&quot;)) == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.printf(&quot; asset account %s, value %s \n&quot;, assetAccount, result.getValue2());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.printf(&quot; %s asset account is not exist \n&quot;, assetAccount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(&quot; queryAssetAmount exception, error message is {}&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.printf(&quot; query asset account failed, error message is %s\n&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void registerAssetAccount(String assetAccount, BigInteger amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String contractAddress = loadAssetAddr();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 调用register接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TransactionReceipt receipt = asset.register(assetAccount, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            List&lt;Asset.RegisterEventEventResponse&gt; response = asset.getRegisterEventEvents(receipt);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!response.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (response.get(0).ret.compareTo(new BigInteger(&quot;0&quot;)) == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; register asset account success =&gt; asset: %s, value: %s \n&quot;, assetAccount, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; register asset account failed, ret code is %s \n&quot;, response.get(0).ret.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot; event log not found, maybe transaction not exec. &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(&quot; registerAssetAccount exception, error message is {}&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.printf(&quot; register asset account failed, error message is %s\n&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void transferAsset(String fromAssetAccount, String toAssetAccount, BigInteger amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String contractAddress = loadAssetAddr();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 调用transfer接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TransactionReceipt receipt = asset.transfer(fromAssetAccount, toAssetAccount, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            List&lt;Asset.TransferEventEventResponse&gt; response = asset.getTransferEventEvents(receipt);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!response.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (response.get(0).ret.compareTo(new BigInteger(&quot;0&quot;)) == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; transfer success =&gt; from_asset: %s, to_asset: %s, amount: %s \n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            fromAssetAccount, toAssetAccount, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; transfer asset account failed, ret code is %s \n&quot;, response.get(0).ret.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot; event log not found, maybe transaction not exec. &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // TODO Auto-generated catch block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(&quot; registerAssetAccount exception, error message is {}&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.printf(&quot; register asset account failed, error message is %s\n&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void Usage() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot; Usage:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient deploy&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient query account&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient register account value&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient transfer from_account to_account amount&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.exit(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (args.length &lt; 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Usage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AssetClient client = new AssetClient();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        client.initialize();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        switch (args[0]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;deploy&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.deployAssetAndRecordAddr();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;query&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (args.length &lt; 2) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Usage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.queryAssetAmount(args[1]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;register&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (args.length &lt; 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Usage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.registerAssetAccount(args[1], new BigInteger(args[2]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;transfer&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (args.length &lt; 4) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Usage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.transferAsset(args[1], args[2], new BigInteger(args[3]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Usage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.exit(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>在<code>asset-app/tool</code>目录下添加一个调用<code>AssetClient</code>的脚本<code>asset_run.sh</code>. 内容如下:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function usage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; Usage : &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh deploy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh query    asset_account &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh register asset_account asset_amount &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh transfer from_asset_account to_asset_account amount &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;examples : &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh deploy &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh register  Asset0  10000000 &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh register  Asset1  10000000 &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh transfer  Asset0  Asset1 11111 &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh query Asset0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh query Asset1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case $1 in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deploy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 1 ] &amp;&amp; { usage; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    register)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 3 ] &amp;&amp; { usage; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transfer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 4 ] &amp;&amp; { usage; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    query)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 2 ] &amp;&amp; { usage; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    *)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        usage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    esac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    java -Djdk.tls.namedGroups=&quot;secp256k1&quot; -cp &#x27;apps/*:conf/:lib/*&#x27; org.fisco.bcos.asset.client.AssetClient $@</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>在<code>asset-app/test/resources</code>目录下创建<code>log4j.properties</code>. 内容如下:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">### set log levels ###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.rootLogger=DEBUG, file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">### output the log information to the file ###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file=org.apache.log4j.DailyRollingFileAppender</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.DatePattern=&#x27;_&#x27;yyyyMMddHH&#x27;.log&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.File=./log/sdk.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.Append=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.filter.traceFilter=org.apache.log4j.varia.LevelRangeFilter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.layout=org.apache.log4j.PatternLayout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.layout.ConversionPattern=[%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C{1}.%M(%L) | %m%n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">###output the log information to the console ###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout.Target=System.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout.layout.ConversionPattern=[%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C{1}.%M(%L) | %m%n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>修改build.gradle文件中的编译任务.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: &#x27;junit&#x27;, name: &#x27;junit&#x27;, version: &#x27;4.12&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&quot;org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile spring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&#x27;org.slf4j:slf4j-log4j12:1.7.25&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    runtime (&#x27;org.slf4j:slf4j-log4j12:1.7.25&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>配置添加build.gradle文件中的编译任务. 直接加入到底部即可.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    destinationDir file(&#x27;dist/apps&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    archiveName project.name + &#x27;.jar&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.xml&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.properties&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.crt&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.key&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    doLast {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            from configurations.runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/lib&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            from file(&#x27;src/test/resources/&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/conf&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            from file(&#x27;tool/&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            from file(&#x27;src/test/resources/contract&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/contract&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>引入日志库, 在<code>asset-app/test/resources</code>目录下, 创建一个空的<code>contract.properties</code>文件, 用于应用在运行时存放合约地址.</li></ul><ol start="6"><li>完成开发</li></ol><p>最终的目录结构如下:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|-- build.gradle // gradle配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- gradle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- wrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- gradle-wrapper.jar // 用于下载Gradle的相关代码实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- gradle-wrapper.properties // wrapper所使用的配置信息，比如gradle的版本等信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- gradlew // Linux或者Unix下用于执行wrapper命令的Shell脚本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- gradlew.bat // Windows下用于执行wrapper命令的批处理脚本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |-- java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |     |-- org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |          |-- fisco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                |-- bcos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                      |-- asset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                            |-- client // 放置客户端调用类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                                   |-- AssetClient.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                            |-- contract // 放置Java合约类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                                   |-- Asset.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |-- resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- ca.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- node.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- node.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- sdk.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- sdk.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- sdk.publickey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- applicationContext.xml // 项目配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- contract.properties // 存储部署合约地址的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- log4j.properties // 日志配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- contract //存放solidity约文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |                |-- Asset.sol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |                |-- Table.sol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- resources // 存放代码资源文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- ca.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- node.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- node.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- sdk.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- sdk.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- sdk.publickey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- applicationContext.xml // 项目配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- contract.properties // 存储部署合约地址的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- log4j.properties // 日志配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- contract //存放solidity约文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                   |-- Asset.sol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                   |-- Table.sol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- tool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |-- asset_run.sh // 项目运行脚本</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="7"><li>运行应用</li></ol><ul><li><p>部署应用</p><ul><li><p>编译项目</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/asset-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./gradlew build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>部署<code>Asset.sol</code>合约</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 进入dist目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>应用的主要功能:</p><ul><li><p>注册资产账户</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh register Foo 100000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>查询账户资产</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh query Foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>转移账户资产</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh transfer Foo Bar  50000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li></ul><p>以上就是全部内容.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Blockchain/erc-721/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">🎨 ERC标准以及NFT应用开发</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Blockchain/solidity/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">🧟‍♂️ 通过互动教程学习Solidity</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-搭建单群组四节点fisco-bcos联盟链" class="table-of-contents__link toc-highlight">1. 搭建单群组四节点FISCO BCOS联盟链</a><ul><li><a href="#第一步-安装依赖" class="table-of-contents__link toc-highlight">第一步: 安装依赖</a></li><li><a href="#第二步-创建目录-下载脚本" class="table-of-contents__link toc-highlight">第二步: 创建目录, 下载脚本</a></li><li><a href="#第三步-搭建联盟链" class="table-of-contents__link toc-highlight">第三步: 搭建联盟链</a></li><li><a href="#第四步-启动节点" class="table-of-contents__link toc-highlight">第四步: 启动节点</a></li><li><a href="#第五步-检查日志输出" class="table-of-contents__link toc-highlight">第五步: 检查日志输出</a></li></ul></li><li><a href="#2-配置与使用控制台" class="table-of-contents__link toc-highlight">2. 配置与使用控制台</a><ul><li><a href="#第一步-准备控制台依赖" class="table-of-contents__link toc-highlight">第一步: 准备控制台依赖</a></li><li><a href="#第二步-启动并使用控制台" class="table-of-contents__link toc-highlight">第二步: 启动并使用控制台</a></li></ul></li><li><a href="#3-部署并调用helloworld的智能合约" class="table-of-contents__link toc-highlight">3. 部署并调用HelloWorld的智能合约</a><ul><li><a href="#第一步-部署合约" class="table-of-contents__link toc-highlight">第一步: 部署合约</a></li><li><a href="#第一步-应用程序设计" class="table-of-contents__link toc-highlight">第一步: 应用程序设计</a></li><li><a href="#第二步-开发接口源码" class="table-of-contents__link toc-highlight">第二步: 开发接口源码</a></li><li><a href="#第三步-编译智能合约" class="table-of-contents__link toc-highlight">第三步: 编译智能合约</a></li><li><a href="#第四步-创建区块链应用项目" class="table-of-contents__link toc-highlight">第四步: 创建区块链应用项目</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro/">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Blockchain/thoughts/">Blockchain</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Code/incubate/">Code</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Sports/racquets/">Sports</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Music/music-n-me/">Music</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Life/valley/">Life</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sny.is/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linktree<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://fewwwww.github.io/WeChat-AddMe/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WeChat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://suningyao.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/fewwwww/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">💗Thank U for reading~💗</div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Suning Yao's Blog. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ef31b1ec.js"></script>
<script src="/assets/js/main.76142136.js"></script>
</body>
</html>