---
sidebar_position: 50
---

# å­¦ä¹ Cairoæ™ºèƒ½åˆçº¦å¼€å‘ (é›¶) ğŸ‡ªğŸ‡¬

## ä»€ä¹ˆæ˜¯ Cairo? ä¸ºä»€ä¹ˆå­¦ä¹  Cairo?

åœ¨ä»‹ç» Cairo ä¹‹å‰, æˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ StarkNet.

StarkNet æ˜¯ StarkWare æ¨å‡ºçš„ä¸€ä¸ªä»¥å¤ªåŠçš„ ZK-Rollup Layer 2, å®ƒçš„å®‰å…¨æ€§æ˜¯é€šè¿‡ STARK çš„é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯æ¥ä¿è¯, ä¹Ÿå°±æ˜¯é€šè¿‡å¯†ç å­¦ä¸æ•°å­¦æ¥ç¡®ä¿è®¡ç®—çš„å®‰å…¨æ€§ä¸å¯é æ€§. StarkNet çš„ä¼˜ç‚¹å°±åœ¨äºæ¯” Optimistic Rollup æ›´ä¼˜å¼‚çš„æ€§èƒ½, æ›´ä½çš„ gas fee, ä»¥åŠæ›´å¯é çš„å®‰å…¨æ€§ (ç”±æ•°å­¦ä¿è¯).

Cairo åˆ™æ˜¯ StarkNet ä¸­æ‰€ä½¿ç”¨çš„æ™ºèƒ½åˆçº¦è¯­è¨€. ä½ å¯èƒ½æƒ³é—®, ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªæ–°çš„è¯­è¨€, è€Œä¸æ˜¯ç”¨ Solidity ç›´æ¥æ¥å†™å‘¢? è¿™æ˜¯å› ä¸º EVM çš„è®¾è®¡å¯¹ç”Ÿæˆé›¶çŸ¥è¯†è¯æ˜å¹¶æ²¡æœ‰é‚£ä¹ˆå‹å¥½, æ‰€ä»¥æƒ³è¦ä¸ºé€šç”¨è®¡ç®—ç”Ÿæˆè¯æ˜ä»è€Œè¾¾åˆ°è®¡ç®—å¯é æ€§, æœ€æœ‰æ€§ä»·æ¯”çš„æ–¹æ¡ˆå°±æ˜¯è®¾è®¡ä¸€ä¸ªå¯¹é›¶çŸ¥è¯†è¯æ˜å‹å¥½çš„æ–°çš„ ZKVM.

## [Cairo VM çš„è®¾è®¡](https://trapdoor-tech.github.io/zkstark-book/chapter_2.html)

æˆ‘ä»¬ä¸Šæ–‡ä¸­æåˆ°çš„ ZKVM å°±æ˜¯ Cairo çš„ VM. å®ƒæ˜¯ä¸€ä¸ªéå¸¸ç²¾ç®€çš„è™šæ‹Ÿæœºæ¨¡å‹, æœ‰ä»¥ä¸‹å‡ ä¸ªæ¯”è¾ƒå¥½ç©çš„ç‰¹æ€§:

- åªæ”¯æŒåœ¨æœ‰é™åŸŸ Fp ä¸Šè¿›è¡Œä¹˜æ³•å’ŒåŠ æ³•, å…¶ä»–æ“ä½œéƒ½åŸºäºä¹˜æ³•å’ŒåŠ æ³•å®ç°

- æ²¡æœ‰ç±»ä¼¼ x86 çš„é€šç”¨å¯„å­˜å™¨

- å†…å­˜æ˜¯åªè¯», æ— æ³•ä¿®æ”¹, ä¸æ˜¯æ”¾åœ¨ stack é‡Œ, ä¹Ÿä¸æ˜¯æ”¾åœ¨å¯„å­˜å™¨ä¸­.

è¿™äº›éƒ½æ˜¯ä¸ºäº†é›¶çŸ¥è¯†è¯æ˜ç‰¹æ€§è€Œåšçš„ä¸€äº›å–èˆ. Cairo çš„æ±‡ç¼–ä»£ç å…¶å®æ˜¯æ¯”è¾ƒç®€é™‹çš„, æ‰€ä»¥æˆ‘ä»¬æ²¡åŠæ³•æ‰‹å†™æ±‡ç¼–, å› æ­¤å¼€å‘åº”ç”¨æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ Cairo è¯­è¨€.

## Cairo çš„ç”Ÿæ€ä¸å·¥å…·

ç”Ÿæ€æ–¹é¢, ç›®å‰ StarkNet ç”Ÿæ€ä¸Šçº¿ä»…å‡ ä¸ªæœˆ, å·²ç»æœ‰éå¸¸å¤šç‹¬ç‰¹çš„é¡¹ç›®. ä½ å¯ä»¥æŸ¥çœ‹ [starknet-ecosystem ç½‘ç«™ä¸Šçš„ç”Ÿæ€é¡¹ç›®](https://www.starknet-ecosystem.com).

å·¥å…·æ–¹é¢, å¦‚æœä½ ä¼š Solidity è¯­è¨€çš„åˆçº¦å¼€å‘çš„è¯, ç”šè‡³å¯ä»¥ä¸ç”¨å­¦ä¹  Cairo, è€Œæ˜¯ä½¿ç”¨ [Warp transpiler](https://github.com/NethermindEth/warp), å°† Solidity åˆçº¦è½¬æ¢æˆ Cairo åˆçº¦, ä½†æ˜¯è¿™ä¼šæœ‰ä¸€äº›é™åˆ¶.

æ¨¡ç‰ˆæ–¹é¢, OpenZeppelin ä¹Ÿç»™å‡ºäº† [Cairo åˆçº¦çš„å®è·µ](https://github.com/OpenZeppelin/cairo-contracts). ç”šè‡³è¿˜æ¨å‡ºäº† [Cairo è¯­è¨€çš„æ— ä»£ç ç¼–è¾‘å™¨](https://wizard.openzeppelin.com/cairo).

æ ‡å‡†æ–¹é¢, Cairo ç»§æ‰¿äº† Solidity å¼€å‘çš„æ ‡å‡†å’Œä¹ æƒ¯.

é’±åŒ…æ–¹é¢, [Argent](https://www.argent.xyz) æ˜¯ç§»åŠ¨ç«¯å’Œç½‘é¡µç«¯æ”¯æŒ StarkNet çš„ä¸€æ¬¾é’±åŒ…, ç›®å‰ Argent å¯¹ StarkNet æœ‰å•ç‹¬çš„åº”ç”¨ç‰ˆæœ¬æ”¯æŒ.

å·¥å…·é“¾ IDE æ–¹é¢, Cairo å’Œ Solidity ä¸æ˜¯ç›´æ¥æ— ç¼åˆ‡æ¢çš„, ä½†ä» OpenZeppelin ç­‰ç»„ç»‡çš„è¡ŒåŠ¨æ¥çœ‹, å…¶ä»–å¼€å‘å·¥å…·åº”è¯¥å¾ˆå¿«ç»™ Cairo åšæ”¯æŒ. ç›®å‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Nileã€HardHatã€StarkNet CLI æ¥è¿›è¡Œå¼€å‘.

## Cairo åˆçº¦çš„ç‰¹æ€§

### æ–‡ä»¶ç»“æ„

Cairo åˆçº¦çš„æ¯ä¸ªæ–‡ä»¶å¯¹åº” Solidity åˆçº¦çš„æ¯ä¸ª contract ç±», ä¹Ÿå°±æ˜¯è¯´ Solidity åˆçº¦é‡Œæœ‰ä¸‰ä¸ª contract ç±»çš„è¯, å°±éœ€è¦åˆ†ä¸‰ä¸ª Cairo æ–‡ä»¶. Cairo â€œcontract ç±»â€ ä¹‹é—´çš„ import ç­‰æ ‡å‡†è¿˜åœ¨ç¤¾åŒºçš„è®¨è®ºé˜¶æ®µ, å„ç§è¡Œä¸ºæ²¡æœ‰è¢«ç¼–è¯‘å™¨ enforce. Cairo åˆçº¦ä¼šæœ‰å‰ç«¯åˆçº¦, å‰ç«¯åˆçº¦ä¼šå¼•å…¥ base åˆçº¦ä¸­çš„å†…éƒ¨æ–¹ç¨‹, ç„¶å wrap è¿™äº›æ–¹ç¨‹ä¸ºå¤–éƒ¨æ–¹ç¨‹.

### è´¦æˆ·æŠ½è±¡

StarkNet ä¸Šçš„äº¤æ˜“å’Œä»¥å¤ªåŠä¸Šæ˜¯ä¸ä¸€æ ·çš„, æ²¡æœ‰ originator çš„æ¦‚å¿µ (â€œFromâ€). è€Œæ˜¯è¢«å‘é€åˆ°ä¸€ä¸ª â€œentry pointâ€, ä¹Ÿå°±æ˜¯å¯¹åº”è´¦å·çš„æ™ºèƒ½åˆçº¦, èƒ½å¤Ÿåšç”¨æˆ·è®¤è¯ã€è¿›è¡Œèµ„é‡‘é˜²æŠ¤å’Œå…¶ä»–å¾ˆå¤šåœ¨å»ºè®¾ä¸­çš„ä¸åŒ UX.

ç›®å‰è¿™ä¸ªæ¦‚å¿µä¹Ÿæ²¡æœ‰è¢« enforce. äº¤æ˜“å¯ä»¥è¢«å‘é€åˆ°ä»»ä½•åˆçº¦, è¿™æ—¶å€™åœ¨ receiver çš„è§†è§’ sender æ˜¯ 0.

## ç¯å¢ƒæ­å»º

1. å®‰è£… Cairo ç¯å¢ƒ

    åˆ›å»º python è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£… cairo-lang

    ```
    python3 -m venv ~/cairo_venv
    source ~/cairo_venv/bin/activate
    brew install gmp
    pip3 install ecdsa fastecdsa sympy
    pip3 install cairo-lang
    ```

2. åˆ›å»ºæµ‹è¯•ç¨‹åº

    åˆ›å»ºä¸€ä¸ªåä¸º test.cairo çš„ç¨‹åº, ä»£ç å†…å®¹å¦‚ä¸‹:

    ```python
    func main():
        [ap] = 1000; ap++
        [ap] = 2000; ap++
        [ap] = [ap - 2] + [ap - 1]; ap++
        ret
    end
    ```

3. ç¼–è¯‘ Cairo ç¨‹åº

    åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œä»¥ä¸‹æŒ‡ä»¤

    ```
    cairo-compile test.cairo --output test_compiled.json
    ```
    ä¹‹åä¼šç”Ÿæˆä¸€ä¸ª json æ–‡ä»¶, åŒ…å«äº†å¾ˆå¤šæ•°æ®.

4. è¿è¡Œ Cairo ç¨‹åº

    ```
    cairo-run \
      --program=test_compiled.json --print_output \
      --print_info --relocate_prints
    ```

    ä¹‹åä¼šæ‰“å°å‡ºç¨‹åºçš„è¿è¡Œæ­¥æ•°, ä½¿ç”¨çš„å†…å­˜å¤§å°å’Œä¸€äº›å¯„å­˜å™¨æ‰§è¡Œåçš„å€¼.

5. ä½¿ç”¨ tracer æŸ¥çœ‹ç¨‹åºå…·ä½“æ‰§è¡Œ

    åŠ ä¸Š tracer flag.

    ```
    cairo-run \
      --program=test_compiled.json --print_output \
      --print_info --relocate_prints \
      --tracer
    ```

    æµè§ˆå™¨è¿›å…¥ `http://localhost:8100/` å³å¯æŸ¥çœ‹ç¨‹åºçš„å…·ä½“æ‰§è¡Œå’Œä¸­é—´çŠ¶æ€.

6. é™¤äº†åœ¨æœ¬åœ°è¿›è¡Œè¿è¡Œä»¥å¤–, ä½ è¿˜å¯ä»¥åœ¨ [Cairo Playground](https://www.cairo-lang.org/playground/) è¿›è¡Œå®éªŒ.
