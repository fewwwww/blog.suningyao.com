<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.2">
<title data-react-helmet="true">æ­å»ºFISCO BCOSåŒºå—é“¾ç½‘ç»œ(Ubuntu 16.04 64bit) | Blogs</title><meta data-react-helmet="true" property="og:url" content="https://fewwwww.github.io/docs/Blockchain/ubantu-fisco"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="æ­å»ºFISCO BCOSåŒºå—é“¾ç½‘ç»œ(Ubuntu 16.04 64bit) | Blogs"><meta data-react-helmet="true" name="description" content="1. æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹FISCO BCOSè”ç›Ÿé“¾"><meta data-react-helmet="true" property="og:description" content="1. æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹FISCO BCOSè”ç›Ÿé“¾"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://fewwwww.github.io/docs/Blockchain/ubantu-fisco"><link data-react-helmet="true" rel="alternate" href="https://fewwwww.github.io/docs/Blockchain/ubantu-fisco" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fewwwww.github.io/docs/Blockchain/ubantu-fisco" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9e4a0a7d.css">
<link rel="preload" href="/assets/js/runtime~main.e4625b6f.js" as="script">
<link rel="preload" href="/assets/js/main.9cc731b6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">blog.suningyao</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fewwwww/blog.suningyao.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">blog.suningyao</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/intro">docs</a></li><li class="menu__list-item"><a href="https://github.com/fewwwww/blog.suningyao.com" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Suning Yao</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">BlockchainğŸ”’â›“ï¸</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/erc">ERCæ ‡å‡†ä»¥åŠNFTåº”ç”¨å¼€å‘</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Blockchain/ubantu-fisco">Ubantuæ­å»ºFisco BcoSåŒºå—é“¾</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/arm-mac-fisco">Arm Macæ­å»ºFisco BcoSåŒºå—é“¾</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">æ­å»ºFISCO BCOSåŒºå—é“¾ç½‘ç»œ(Ubuntu 16.04 64bit)</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹fisco-bcosè”ç›Ÿé“¾"></a>1. æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹FISCO BCOSè”ç›Ÿé“¾<a class="hash-link" href="#1-æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹fisco-bcosè”ç›Ÿé“¾" title="Direct link to heading">#</a></h2><p>ä½¿ç”¨å¼€å‘éƒ¨ç½²å·¥å…·build_chain.shè„šæœ¬å¿«é€Ÿæ­å»ºFISCO BCOSåŒºå—é“¾, æœ¬æ¬¡ä»¥Ubuntu 16.04 64bitç³»ç»Ÿä¸ºä¾‹æ“ä½œ.</p><p>éƒ¨ç½²å·¥å…·build_chainè„šæœ¬ç›®æ ‡æ˜¯è®©ç”¨æˆ·æœ€å¿«åœ°æ­å»ºï¼Œå¯¹äºä¼ä¸šçº§åº”ç”¨éƒ¨ç½²FISCO BCOSè¯·å‚è€ƒè¿ç»´éƒ¨ç½²å·¥å…·.</p><p>å®˜æ–¹æ¨èä¸‹è½½é¢„ç¼–è¯‘ç¨‹åºè¿›è¡Œä½¿ç”¨. åŒæ—¶æä¾›<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/get_executable.html" target="_blank" rel="noopener noreferrer">Dockerç¨‹åºä¸æœªç¼–è¯‘æºç </a>.</p><blockquote><p>ARMæ¶æ„linuxä¸X86æ¶æ„macOSéœ€è¦è‡ªè¡Œç¼–è¯‘, ARMæ¶æ„macOSæš‚æœªé€‚é….</p><p>CentOSç³»ç»Ÿä¸‹opensslé»˜è®¤è·¯å¾„åœ¨å¼€å§‹æ­å»ºæ—¶å¯èƒ½ä¼šå‡ºç°è·¯å¾„é”™è¯¯.</p><p>æ¨èæ–°æ‰‹å¼€å‘è€…ä½¿ç”¨Ubuntuå¹³å°æ­å»º.</p></blockquote><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬ä¸€æ­¥-å®‰è£…ä¾èµ–"></a>ç¬¬ä¸€æ­¥: å®‰è£…ä¾èµ–<a class="hash-link" href="#ç¬¬ä¸€æ­¥-å®‰è£…ä¾èµ–" title="Direct link to heading">#</a></h3><ul><li>ä½¿ç”¨build_chain.shè„šæœ¬éœ€è¦å…ˆå®‰è£…opensslä¸curl.
å› æ­¤å…ˆå®‰è£…è¿™ä¸¤ä¸ªä¾èµ–.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y openssl curl</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬äºŒæ­¥-åˆ›å»ºç›®å½•-ä¸‹è½½è„šæœ¬"></a>ç¬¬äºŒæ­¥: åˆ›å»ºç›®å½•, ä¸‹è½½è„šæœ¬<a class="hash-link" href="#ç¬¬äºŒæ­¥-åˆ›å»ºç›®å½•-ä¸‹è½½è„šæœ¬" title="Direct link to heading">#</a></h3><ul><li>é¦–å…ˆåˆ›å»ºfiscoç›®å½•, å¹¶ä¸”è¿›å…¥åˆšåˆ›å»ºçš„ç›®å½•.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~ &amp;&amp; mkdir -p fisco &amp;&amp; cd fisco</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>é€šè¿‡curlä¸‹è½½build_chain.shè„šæœ¬</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl -#LO https://github.com/FISCO-BCOS/FISCO-BCOS/releases/download/v2.7.2/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>å¦‚æœå› ä¸ºç½‘ç»œé—®é¢˜æ— æ³•æ­£å¸¸ä¸‹è½½, å¯ä»¥å°è¯•æ›´æ¢é“¾æ¥
<code>curl -#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/releases/v2.7.2/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</code></p></blockquote><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬ä¸‰æ­¥-æ­å»ºè”ç›Ÿé“¾"></a>ç¬¬ä¸‰æ­¥: æ­å»ºè”ç›Ÿé“¾<a class="hash-link" href="#ç¬¬ä¸‰æ­¥-æ­å»ºè”ç›Ÿé“¾" title="Direct link to heading">#</a></h3><p>æ³¨æ„è¦ç¡®ä¿æœºå™¨çš„30300~30303ï¼Œ20200~20203ï¼Œ8545~8548ç«¯å£æ²¡æœ‰è¢«å ç”¨, å¦åˆ™ä¼šå¯¼è‡´åç»­æ— æ³•æˆåŠŸæ­å»º.</p><ul><li>åœ¨fiscoç›®å½•ä¸‹æ‰§è¡ŒæŒ‡ä»¤, ç”Ÿæˆä¸€æ¡å•ç¾¤ç»„4èŠ‚ç‚¹çš„FISCOé“¾.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bash build_chain.sh -l 127.0.0.1:4 -p 30300,20200,8545</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>-pé€‰é¡¹ä¸ºèµ·å§‹ç«¯å£, 30300ä¸ºp2p_port, 20200ä¸ºchannel_port, 8545ä¸ºjsonrpc_port.
æ›´å¤šæ­å»ºæ—¶çš„é€‰é¡¹å¯ä»¥å‚è€ƒ<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/build_chain.html" target="_blank" rel="noopener noreferrer">å¼€å‘éƒ¨ç½²å·¥å…·</a>.</p></blockquote><p>å‘½ä»¤æ‰§è¡ŒæˆåŠŸä¼šåœ¨æœ€åä¸€è¡Œæ˜¾ç¤º<code>[INFO] All completed. Files in /home/ubuntu/fisco/nodes</code></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬å››æ­¥-å¯åŠ¨èŠ‚ç‚¹"></a>ç¬¬å››æ­¥: å¯åŠ¨èŠ‚ç‚¹<a class="hash-link" href="#ç¬¬å››æ­¥-å¯åŠ¨èŠ‚ç‚¹" title="Direct link to heading">#</a></h3><ul><li>é€šè¿‡è„šæœ¬å¯åŠ¨æ‰€æœ‰æ‰€æœ‰èŠ‚ç‚¹</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bash nodes/127.0.0.1/start_all.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å››ä¸ªèŠ‚ç‚¹å‡å¯åŠ¨æˆåŠŸæ—¶ä¼šæ˜¾ç¤º</p><blockquote><p>try to start node0</p><p>try to start node1</p><p>try to start node2</p><p>try to start node3</p><p>node0 start successfully</p><p>node1 start successfully</p><p>node2 start successfully</p><p>node3 start successfully</p></blockquote><ul><li>éªŒè¯èŠ‚ç‚¹æ˜¯å¦è¢«æˆåŠŸå¯åŠ¨</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ps -ef | grep -v grep | grep fisco-bcos</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>è‹¥æ˜¾ç¤ºå››è¡Œæ•°æ®, åˆ™FISCO BCOSé“¾æˆåŠŸå¯åŠ¨</p></blockquote><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬äº”æ­¥-æ£€æŸ¥æ—¥å¿—è¾“å‡º"></a>ç¬¬äº”æ­¥: æ£€æŸ¥æ—¥å¿—è¾“å‡º<a class="hash-link" href="#ç¬¬äº”æ­¥-æ£€æŸ¥æ—¥å¿—è¾“å‡º" title="Direct link to heading">#</a></h3><ul><li>æŸ¥çœ‹èŠ‚ç‚¹é“¾æ¥çš„å…¶ä»–èŠ‚ç‚¹ä¸ªæ•°</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">tail -f nodes/127.0.0.1/node0/log/log*  | grep connected</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å¦‚æœè¾“å‡ºæ­£å¸¸ä¸­æ¯åç§’ä¼šå¼¹å‡ºä¸€è¡Œä¿¡æ¯.</p><blockquote><p>info|2021-06-25 09:06:04.855163|[P2P][Service] heartBeat,connected count=3</p><p>info|2021-06-25 09:06:14.859185|[P2P][Service] heartBeat,connected count=3</p><p>info|2021-06-25 09:06:24.863178|[P2P][Service] heartBeat,connected count=3</p></blockquote><p>è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ°ç¬¬0ä¸ªèŠ‚ç‚¹ä¸å…¶ä»–3ä¸ªèŠ‚ç‚¹ç›¸è¿.</p><p>å¦‚æœæ£€æŸ¥å…¶ä»–èŠ‚ç‚¹, è¾“å‡ºä¿¡æ¯ç›¸åŒ.</p><ul><li>æ£€æŸ¥é“¾ä¸­æ˜¯å¦å­˜åœ¨å…±è¯†</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">tail -f nodes/127.0.0.1/node0/log/log*  | grep +++</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å¦‚æœå…±è¯†æ­£å¸¸ä¼šå¼¹å‡ºå¦‚ä¸‹ä¿¡æ¯.</p><blockquote><p>info|2021-06-25 08:59:58.199388|[g:1][CONSENSUS][SEALER]++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=c7e899af...</p><p>info|2021-06-25 09:08:20.095493|[g:1][CONSENSUS][SEALER]++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=fbe312af...</p><p>info|2021-06-25 09:08:24.135362|[g:1][CONSENSUS][SEALER]++++++++++++++++ Generating seal on,blkNum=1,tx=0,nodeIdx=2,hash=6e7ef1a2...</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-é…ç½®ä¸ä½¿ç”¨æ§åˆ¶å°"></a>2. é…ç½®ä¸ä½¿ç”¨æ§åˆ¶å°<a class="hash-link" href="#2-é…ç½®ä¸ä½¿ç”¨æ§åˆ¶å°" title="Direct link to heading">#</a></h2><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬ä¸€æ­¥-å‡†å¤‡æ§åˆ¶å°ä¾èµ–"></a>ç¬¬ä¸€æ­¥: å‡†å¤‡æ§åˆ¶å°ä¾èµ–<a class="hash-link" href="#ç¬¬ä¸€æ­¥-å‡†å¤‡æ§åˆ¶å°ä¾èµ–" title="Direct link to heading">#</a></h3><p>æˆ‘ä»¬é€šè¿‡è„šæœ¬ä¸‹è½½çš„ç¨‹åºä¸ºæœ€æ–°ç‰ˆæœ¬.
2.6ç‰ˆæœ¬ä¹‹åçš„æ§åˆ¶å°å‡ç”¨Java SDKå®ç°.</p><p>æ–°ç‰ˆæ§åˆ¶å°æ–‡æ¡£å‚è€ƒ<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/console/console_of_java_sdk.html" target="_blank" rel="noopener noreferrer">æ­¤å¤„</a>.</p><ul><li>å®‰è£…Java</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y default-jdk</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>å›åˆ°fiscoç›®å½•å¹¶ä¸”ä¸‹è½½å¹¶è¿è¡Œdownload_consoleçš„è„šæœ¬</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco &amp;&amp; curl -LO https://github.com/FISCO-BCOS/console/releases/download/v2.7.2/download_console.sh &amp;&amp; bash download_console.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>å¦‚æœå› ä¸ºç½‘ç»œé—®é¢˜æ— æ³•æ­£å¸¸ä¸‹è½½, å¯ä»¥å°è¯•å°†ä¸­é—´çš„é“¾æ¥æ›¿æ¢ä¸º
<code>curl -#LO https://gitee.com/FISCO-BCOS/console/raw/master/tools/download_console.sh</code></p></blockquote><ul><li>å°†é»˜è®¤çš„æ§åˆ¶å°é…ç½®æ‹·è´åˆ°å¯¹åº”çš„è·¯å¾„ä¸åç§°</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cp -n console/conf/config-example.toml console/conf/config.toml</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>å°†æ§åˆ¶å°è¯ä¹¦æ‹·è´åˆ°å¯¹åº”è·¯å¾„</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cp -r nodes/127.0.0.1/sdk/* console/conf/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬äºŒæ­¥-å¯åŠ¨å¹¶ä½¿ç”¨æ§åˆ¶å°"></a>ç¬¬äºŒæ­¥: å¯åŠ¨å¹¶ä½¿ç”¨æ§åˆ¶å°<a class="hash-link" href="#ç¬¬äºŒæ­¥-å¯åŠ¨å¹¶ä½¿ç”¨æ§åˆ¶å°" title="Direct link to heading">#</a></h3><ul><li>è¿›å…¥æ§åˆ¶å°è·¯å¾„å¹¶å¯åŠ¨æ§åˆ¶å°</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/console &amp;&amp; bash start.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ§åˆ¶å°å¯åŠ¨æˆåŠŸåä¼šæ˜¾ç¤ºç‰ˆæœ¬å·ä»¥åŠç”±$ç¬¦å·ç»„æˆçš„ASCII art</p><blockquote><p>Welcome to FISCO BCOS console(2.7.2)!</p></blockquote><ul><li>åœ¨æ§åˆ¶å°ä¸­è·å–ä¿¡æ¯</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">===================================================</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getNodeVersion</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ClientVersion{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    version=&#x27;2.7.2&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    supportedVersion=&#x27;2.7.2&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    chainId=&#x27;1&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    buildTime=&#x27;20210201 10:03:03&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    buildType=&#x27;Linux/clang/Release&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    gitBranch=&#x27;HEAD&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    gitCommitHash=&#x27;4c8a5bbe44c19db8a002017ff9dbb16d3d28e9da&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getPeers</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    PeerInfo{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodeID=&#x27;6d9f62cea16879e16ffe4004c64fa717b62c3853c915f79306972da0dac4133f25b97bedfe522d982a3fd606c2ac90ef085a45f1786ea1e5dbd4ad8fdd57b97e&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        iPAndPort=&#x27;127.0.0.1:50050&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        node=&#x27;node3&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        agency=&#x27;agency&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        topic=&#x27;[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    PeerInfo{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodeID=&#x27;fae1c9ff63b77de57759555d0cfcf01f43db418f7d75ecc969c1262364b3d6ae0d53ae92e05adf259e4a56f91369d66ca29c4e9c4e8a6342d23bbdcd9e2fb4ab&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        iPAndPort=&#x27;127.0.0.1:50042&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        node=&#x27;node1&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        agency=&#x27;agency&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        topic=&#x27;[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _block_notify_1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    PeerInfo{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodeID=&#x27;4fd5a7d73b3f002e76c2e1adbcbdbc0903197a2a10cf449ddc6507d33cd050e414b52aef9d5444f9206aec2cfc0d976e235b10fd9d4fa56c8168e59a6b234ada&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        iPAndPort=&#x27;127.0.0.1:30302&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        node=&#x27;node2&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        agency=&#x27;agency&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        topic=&#x27;[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-éƒ¨ç½²å¹¶è°ƒç”¨helloworldçš„æ™ºèƒ½åˆçº¦"></a>3. éƒ¨ç½²å¹¶è°ƒç”¨HelloWorldçš„æ™ºèƒ½åˆçº¦<a class="hash-link" href="#3-éƒ¨ç½²å¹¶è°ƒç”¨helloworldçš„æ™ºèƒ½åˆçº¦" title="Direct link to heading">#</a></h2><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬ä¸€æ­¥-éƒ¨ç½²åˆçº¦"></a>ç¬¬ä¸€æ­¥: éƒ¨ç½²åˆçº¦<a class="hash-link" href="#ç¬¬ä¸€æ­¥-éƒ¨ç½²åˆçº¦" title="Direct link to heading">#</a></h3><ul><li>ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿä½“éªŒ, HelloWorldçš„åˆçº¦å·²ç»å†…ç½®äºæ§åˆ¶å°ä¸­, ä½äºæ§åˆ¶å°ç›®å½•ä¸‹contracts/solidity/HelloWorld.sol. æˆ‘ä»¬ç›´æ¥éƒ¨ç½²HelloWorldåˆçº¦.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">deploy HelloWorld</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åˆçº¦å…·ä½“å†…å®¹ä¸º:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.24;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloWorld {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å£°æ˜å˜é‡name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å°†nameå€¼æ›´æ–°ä¸ºHello, World!</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function HelloWorld() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &quot;Hello, World!&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // è°ƒç”¨getæ–¹æ³•æ—¶è¿”å›nameçš„å€¼</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function get()constant returns(string) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // è°ƒç”¨setæ–¹æ³•æ—¶ä¿®æ”¹nameçš„å€¼ä¸ºn</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function set(string n) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = n;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>éƒ¨ç½²æˆåŠŸåä¼šè¿”å›åˆçº¦åœ°å€:</p><blockquote><p>transaction hash: 0x24d98970eb355755f66f8b5e8ba4b94a1e69de0ef53fdff9f0a011ce4c57bdaa</p><p>contract address: {address hash}</p><p>currentAccount: 0xe6925c66ad07d894f066a2229addb2b350d373c3</p></blockquote><ul><li>æŸ¥çœ‹å½“å‰åŒºå—é«˜åº¦, è°ƒç”¨getæ¥å£è·å–nameå˜é‡</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getBlockNumber</span></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; call HelloWorld {address hash} get</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return code: 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">description: transaction executed successfully</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return message: Success</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return value size:1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return types: (STRING)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return values:(Hello, World!)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getBlockNumber</span></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>getæ¥å£ä¸ä¼šæ”¹å˜è´¦æœ¬çŠ¶æ€, æ‰€ä»¥è°ƒç”¨ä¹‹ååŒºå—é«˜åº¦ä»ç„¶ä¸º1.</p><ul><li>è°ƒç”¨setæ¥å£è®¾ç½®nameå˜é‡</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; call HelloWorld {address hash} set &quot;Hello, Fisco BcoS&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction hash: 0x08e2f53419d1e327aa38fa3ce3d6e529927e4f2bac05bea757406b27bf122f1d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction status: 0x0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">description: transaction executed successfully</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Receipt message: Success</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return message: Success</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return values:[]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Event logs</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Event: {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; getBlockNumber</span></span><span class="token-line" style="color:#393A34"><span class="token plain">2</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[group:1]&gt; call HelloWorld {address hash} get</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return code: 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">description: transaction executed successfully</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return message: Success</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return value size:1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return types: (STRING)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Return values:(Hello, Fisco BcoS)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------------------------</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å†æ¬¡æŸ¥çœ‹åŒºå—é«˜åº¦ä¼šå‘ç°é«˜åº¦å·²æ”¹å˜, å†æ¬¡è°ƒç”¨getæ¥å£å‘ç°è¿”å›å€¼å·²ç»ä¿®æ”¹ä¸ºæˆ‘ä»¬setçš„å€¼.</p><header><h1 class="h1Heading_27L5">FISCO BCOSåŒºå—é“¾ç®€æ˜“çš„èµ„äº§ç®¡ç†çš„å¼€å‘å…¨è¿‡ç¨‹</h1></header><p>æˆ‘ä»¬å°†ä¼šå¼€å‘ä¸€ä¸ªç®€æ˜“çš„èµ„äº§ç®¡ç†çš„ç³»ç»Ÿï¼Œå¹¶æœ€ç»ˆå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>èƒ½å¤Ÿåœ¨åŒºå—é“¾ä¸Šè¿›è¡Œèµ„äº§è´¦æˆ·æ³¨å†Œ</li><li>èƒ½å¤Ÿå®ç°ä¸åŒè´¦æˆ·ä¹‹é—´çš„è½¬è´¦</li><li>å¯ä»¥æŸ¥è¯¢è´¦æˆ·çš„èµ„äº§é‡‘é¢</li></ul><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬ä¸€æ­¥-åº”ç”¨ç¨‹åºè®¾è®¡"></a>ç¬¬ä¸€æ­¥: åº”ç”¨ç¨‹åºè®¾è®¡<a class="hash-link" href="#ç¬¬ä¸€æ­¥-åº”ç”¨ç¨‹åºè®¾è®¡" title="Direct link to heading">#</a></h3><ul><li><strong>å­˜å‚¨è®¾è®¡:</strong></li></ul><p>é’ˆå¯¹éœ€è¦å®ç°çš„åŠŸèƒ½, æœ¬åº”ç”¨éœ€è¦è®¾è®¡å­˜å‚¨èµ„äº§ç®¡ç†çš„è¡¨t_asset. å†…å®¹å¦‚ä¸‹:</p><table><thead><tr><th>account</th><th>asset_value</th></tr></thead><tbody><tr><td>Alex</td><td>1000</td></tr><tr><td>Bob</td><td>2000</td></tr></tbody></table><ul><li><strong>æ¥å£è®¾è®¡:</strong></li></ul><p>æŒ‰ç…§ä¸šåŠ¡çš„è®¾è®¡ç›®æ ‡ï¼Œéœ€è¦å®ç°èµ„äº§æ³¨å†Œï¼Œè½¬è´¦ï¼ŒæŸ¥è¯¢èµ„äº§é‡‘é¢åŠŸèƒ½ï¼Œå¯¹åº”åŠŸèƒ½çš„æ¥å£å¦‚ä¸‹:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// æŸ¥è¯¢è´¦æˆ·çš„èµ„äº§é‡‘é¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   returnå€¼ä¸€ï¼š æˆåŠŸæ‰¾åˆ°è´¦æˆ·è¿”å›0, è´¦æˆ·ä¸å­˜åœ¨è¿”å›-1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   returnå€¼äºŒï¼š èµ„äº§é‡‘é¢(ç¬¬ä¸€ä¸ªå‚æ•°ä¸º0æ—¶æœ‰æ•ˆ)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function select(string account) public constant returns(int256, uint256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// èµ„äº§è´¦æˆ·æ³¨å†Œ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   0  èµ„äº§è´¦æˆ·æ³¨å†ŒæˆåŠŸ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -1 èµ„äº§è´¦æˆ·å·²å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -2 å…¶ä»–é”™è¯¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function register(string account, uint256 amount) public returns(int256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// è´¦æˆ·é—´çš„èµ„äº§è½¬ç§»</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   è¿”å›å€¼ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   0  èµ„äº§è½¬ç§»æˆåŠŸ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -1 è½¬ç§»èµ„äº§è´¦æˆ·ä¸å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -2 æ¥æ”¶èµ„äº§è´¦æˆ·ä¸å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -3 é‡‘é¢ä¸è¶³</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -4 é‡‘é¢æº¢å‡º</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   -5 å…¶ä»–é”™è¯¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function transfer(string from_asset_account, string to_asset_account, uint256 amount) public returns(int256)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬äºŒæ­¥-å¼€å‘æ¥å£æºç "></a>ç¬¬äºŒæ­¥: å¼€å‘æ¥å£æºç <a class="hash-link" href="#ç¬¬äºŒæ­¥-å¼€å‘æ¥å£æºç " title="Direct link to heading">#</a></h3><ul><li>ç¼–å†™æ™ºèƒ½åˆçº¦</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// è¿›å…¥console/contracts/solidityç›®å½•</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/console/contracts/solidity</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// åˆ›å»ºAsset.solåˆçº¦æ–‡ä»¶, è¿›å…¥æ–‡ä»¶çš„ç¼–å†™</span></span><span class="token-line" style="color:#393A34"><span class="token plain">vi Asset.sol</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// å°†åˆçº¦å†…å®¹å†™å…¥Asset.solæ–‡ä»¶.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// ** é‡è¦: vimä¸­ä¿å­˜é€€å‡ºä¸º:wq **</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Assert.solçš„å†…å®¹å¦‚ä¸‹:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.24;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Table.solå·²åœ¨~/fisco/console/contracts/solidityç›®å½•ä¸‹.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// è¯¥ç³»ç»Ÿåˆçº¦æ–‡ä»¶ä¸­çš„æ¥å£ç”±FISCO BCOSåº•å±‚å®ç°.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// å½“ä¸šåŠ¡åˆçº¦éœ€è¦æ“ä½œCRUDæ¥å£æ—¶ï¼Œå‡éœ€è¦å¼•å…¥è¯¥æ¥å£åˆçº¦æ–‡ä»¶.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;./Table.sol&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract Asset {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event RegisterEvent(int256 ret, string account, uint256 asset_value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event TransferEvent(int256 ret, string from_account, string to_account, uint256 amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor() public {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ„é€ å‡½æ•°ä¸­åˆ›å»ºt_assetè¡¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        createTable();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function createTable() private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        TableFactory tf = TableFactory(0x1001);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // èµ„äº§ç®¡ç†è¡¨, key : account, field : asset_value</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |      èµ„äº§è´¦æˆ·(key)   |   èµ„äº§é‡‘é¢(field)   |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |-------------------- |-------------------|</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |        account      |    asset_value    |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // |---------------------|-------------------|</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        tf.createTable(&quot;t_asset&quot;, &quot;account&quot;, &quot;asset_value&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function openTable() private returns(Table) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        TableFactory tf = TableFactory(0x1001);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Table table = tf.openTable(&quot;t_asset&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return table;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    æè¿° : æ ¹æ®èµ„äº§è´¦æˆ·æŸ¥è¯¢èµ„äº§é‡‘é¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    å‚æ•° ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            account : èµ„äº§è´¦æˆ·</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    è¿”å›å€¼ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            å‚æ•°ä¸€ï¼š æˆåŠŸæ‰¾åˆ°è´¦æˆ·è¿”å›0, è´¦æˆ·ä¸å­˜åœ¨è¿”å›-1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            å‚æ•°äºŒï¼š èµ„äº§é‡‘é¢(ç¬¬ä¸€ä¸ªå‚æ•°ä¸º0æ—¶æœ‰æ•ˆ)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function select(string account) public constant returns(int256, uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ‰“å¼€è¡¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Table table = openTable();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æŸ¥è¯¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Entries entries = table.select(account, table.newCondition());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 asset_value = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (0 == uint256(entries.size())) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (-1, asset_value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Entry entry = entries.get(0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (0, uint256(entry.getInt(&quot;asset_value&quot;)));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    æè¿° : èµ„äº§æ³¨å†Œ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    å‚æ•° ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            account : èµ„äº§è´¦æˆ·</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            amount  : èµ„äº§é‡‘é¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    è¿”å›å€¼ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            0  èµ„äº§è´¦æˆ·æ³¨å†ŒæˆåŠŸ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -1 èµ„äº§è´¦æˆ·å·²å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -2 å…¶ä»–é”™è¯¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function register(string account, uint256 asset_value) public returns(int256){</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 ret_code = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 ret= 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 temp_asset_value = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æŸ¥è¯¢è´¦æˆ·æ˜¯å¦å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ret, temp_asset_value) = select(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(ret != 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Table table = openTable();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Entry entry = table.newEntry();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            entry.set(&quot;account&quot;, account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            entry.set(&quot;asset_value&quot;, int256(asset_value));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // æ’å…¥</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            int count = table.insert(account, entry);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (count == 1) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                // æˆåŠŸ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ret_code = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                // å¤±è´¥? æ— æƒé™æˆ–è€…å…¶ä»–é”™è¯¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ret_code = -2;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è´¦æˆ·å·²å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit RegisterEvent(ret_code, account, asset_value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /*</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    æè¿° : èµ„äº§è½¬ç§»</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    å‚æ•° ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from_account : è½¬ç§»èµ„äº§çš„è´¦æˆ·</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            to_account ï¼š æ¥æ”¶èµ„äº§çš„è´¦æˆ·</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            amount ï¼š è½¬ç§»é‡‘é¢æ•°é‡</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    è¿”å›å€¼ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            0  èµ„äº§è½¬ç§»æˆåŠŸ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -1 è½¬ç§»èµ„äº§è´¦æˆ·ä¸å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -2 æ¥æ”¶èµ„äº§è´¦æˆ·ä¸å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -3 é‡‘é¢ä¸è¶³</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -4 é‡‘é¢æº¢å‡º</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            -5 å…¶ä»–é”™è¯¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(string from_account, string to_account, uint256 amount) public returns(int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æŸ¥è¯¢è½¬ç§»èµ„äº§è´¦æˆ·ä¿¡æ¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int ret_code = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 ret = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 from_asset_value = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 to_asset_value = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è½¬ç§»è´¦æˆ·æ˜¯å¦å­˜åœ¨?</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ret, from_asset_value) = select(from_account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(ret != 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è½¬ç§»è´¦æˆ·ä¸å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ¥å—è´¦æˆ·æ˜¯å¦å­˜åœ¨?</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        (ret, to_asset_value) = select(to_account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(ret != 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -2;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // æ¥æ”¶èµ„äº§çš„è´¦æˆ·ä¸å­˜åœ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(from_asset_value &lt; amount) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -3;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è½¬ç§»èµ„äº§çš„è´¦æˆ·é‡‘é¢ä¸è¶³</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (to_asset_value + amount &lt; to_asset_value) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -4;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // æ¥æ”¶è´¦æˆ·é‡‘é¢æº¢å‡º</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Table table = openTable();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Entry entry0 = table.newEntry();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry0.set(&quot;account&quot;, from_account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry0.set(&quot;asset_value&quot;, int256(from_asset_value - amount));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ›´æ–°è½¬è´¦è´¦æˆ·</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int count = table.update(from_account, entry0, table.newCondition());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(count != 1) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret_code = -5;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // å¤±è´¥? æ— æƒé™æˆ–è€…å…¶ä»–é”™è¯¯?</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit TransferEvent(ret_code, from_account, to_account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Entry entry1 = table.newEntry();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry1.set(&quot;account&quot;, to_account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        entry1.set(&quot;asset_value&quot;, int256(to_asset_value + amount));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ›´æ–°æ¥æ”¶è´¦æˆ·</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        table.update(to_account, entry1, table.newCondition());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit TransferEvent(ret_code, from_account, to_account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ret_code;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>ä¿å­˜å¹¶é€€å‡ºåè¿è¡Œls, å¯ä»¥çœ‹åˆ°Assert.solå’ŒTable.sol.</li></ul><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬ä¸‰æ­¥-ç¼–è¯‘æ™ºèƒ½åˆçº¦"></a>ç¬¬ä¸‰æ­¥: ç¼–è¯‘æ™ºèƒ½åˆçº¦<a class="hash-link" href="#ç¬¬ä¸‰æ­¥-ç¼–è¯‘æ™ºèƒ½åˆçº¦" title="Direct link to heading">#</a></h3><p>æ§åˆ¶å°æä¾›çš„ç¼–è¯‘å·¥å…·å¯ä»¥ç¼–è¯‘å‡ºABIå’ŒBINæ–‡ä»¶, ä½¿å¾—.solæ–‡ä»¶å¯ä»¥éƒ¨ç½²åˆ°åŒºå—é“¾ä¸Š.</p><p>åŒæ—¶è¿˜ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸ç¼–è¯‘çš„æ™ºèƒ½åˆçº¦åŒåçš„æ ¹æ®ABIç”Ÿæˆçš„åˆçº¦Javaç±».
è¿™ä¸ªJavaç±»å¸®åŠ©ç”¨æˆ·è§£æå¥½äº†å‚æ•°, æä¾›åŒåçš„æ–¹æ³•.</p><p>å½“åº”ç”¨éœ€è¦éƒ¨ç½²å’Œè°ƒç”¨åˆçº¦æ—¶, å¯ä»¥ç›´æ¥è°ƒç”¨è¯¥åˆçº¦ç±»çš„å¯¹åº”æ–¹æ³•, ä¼ å…¥æŒ‡å®šå‚æ•°å³å¯.</p><ul><li>ç¼–è¯‘åˆçº¦</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// åˆ‡æ¢åˆ°fisco/console/ç›®å½•</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/console/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// ç¼–è¯‘åˆçº¦, æŒ‡å®šJavaçš„åŒ…åå‚æ•°</span></span><span class="token-line" style="color:#393A34"><span class="token plain">./sol2java.sh org.fisco.bcos.asset.contract</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿è¡ŒæˆåŠŸåä¼šæ˜¾ç¤º<code>INFO: Compile for solidity TableTest.sol success.</code></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¬¬å››æ­¥-åˆ›å»ºåŒºå—é“¾åº”ç”¨é¡¹ç›®"></a>ç¬¬å››æ­¥: åˆ›å»ºåŒºå—é“¾åº”ç”¨é¡¹ç›®<a class="hash-link" href="#ç¬¬å››æ­¥-åˆ›å»ºåŒºå—é“¾åº”ç”¨é¡¹ç›®" title="Direct link to heading">#</a></h3><blockquote><p>æœ¬æ­¥éª¤é¡¹ç›®æºç å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç›´æ¥è·å¾—, è·å¾—åå¯ä»¥ç›´æ¥è·³è¿‡æœ¬æ­¥éª¤:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -#LO https://github.com/FISCO-BCOS/LargeFiles/raw/master/tools/asset-app.tar.gz</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># è§£å‹å¾—åˆ°Javaå·¥ç¨‹é¡¹ç›®asset-app</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -zxf asset-app.tar.gz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></blockquote><ol><li>å®‰è£…Javaä¸IDE</li></ol><p>åœ¨å¼€å‘ç¯å¢ƒä¸‹è½½Java JDK 14(JDK1.8 è‡³JDK 14éƒ½æ”¯æŒ); ä¸‹è½½IntelliJ IDE.</p><ol start="2"><li>åˆ›å»ºJavaå·¥ç¨‹</li></ol><p>åœ¨IntelliJ IDEä¸­åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®, é€‰æ‹©Gradle, å‹¾é€‰Java, è¾“å…¥å·¥ç¨‹å.</p><ol start="3"><li>å¼•å…¥Java SDK</li></ol><p>åœ¨build.gradleæ–‡ä»¶ä¸­æ›¿æ¢repositories, åŠ å…¥Java SDKçš„å¼•ç”¨.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">repositories {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mavenCentral()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    maven {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        url &quot;http://maven.aliyun.com/nexus/content/groups/public/&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots&quot; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å°†dependenciesæ›¿æ¢, å¼•å…¥Java SDK jaråŒ….</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: &#x27;junit&#x27;, name: &#x27;junit&#x27;, version: &#x27;4.12&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&#x27;org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="4"><li>é…ç½®SDKè¯ä¹¦</li></ol><ul><li>ä¿®æ”¹build.gradleæ–‡ä»¶, å¼•å…¥Springæ¡†æ¶.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// åŠ å…¥</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def spring_version = &quot;4.3.27.RELEASE&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List spring = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-core:$spring_version&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-beans:$spring_version&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-context:$spring_version&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;org.springframework:spring-tx:$spring_version&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ›¿æ¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: &#x27;junit&#x27;, name: &#x27;junit&#x27;, version: &#x27;4.12&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&quot;org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile spring</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>åœ¨<code>asset-app/test/resources</code>ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶<code>applicationContext.xml</code>, å†™å…¥é…ç½®å†…å®¹(å¦‚ä¸‹).</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;bean id=&quot;defaultConfigProperty&quot; class=&quot;org.fisco.bcos.sdk.config.model.ConfigProperty&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;cryptoMaterial&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;certPath&quot; value=&quot;conf&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;network&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;peers&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;list&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;value&gt;127.0.0.1:20200&lt;/value&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;value&gt;127.0.0.1:20201&lt;/value&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;/list&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/entry&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;account&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;keyStoreDir&quot; value=&quot;account&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;accountAddress&quot; value=&quot;&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;accountFileFormat&quot; value=&quot;pem&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;password&quot; value=&quot;&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;accountFilePath&quot; value=&quot;&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;property name=&quot;threadPool&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;channelProcessorThreadSize&quot; value=&quot;16&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;receiptProcessorThreadSize&quot; value=&quot;16&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;entry key=&quot;maxBlockingQueueSize&quot; value=&quot;102400&quot; /&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/map&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/property&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/bean&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;bean id=&quot;defaultConfigOption&quot; class=&quot;org.fisco.bcos.sdk.config.ConfigOption&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;constructor-arg name=&quot;configProperty&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;ref bean=&quot;defaultConfigProperty&quot;/&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/constructor-arg&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/bean&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;bean id=&quot;bcosSDK&quot; class=&quot;org.fisco.bcos.sdk.BcosSDK&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;constructor-arg name=&quot;configOption&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;ref bean=&quot;defaultConfigOption&quot;/&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/constructor-arg&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/bean&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/beans&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>æˆ‘ä»¬æŒ‡å®šäº†è¯ä¹¦å­˜æ”¾çš„ä½certPathçš„å€¼ä¸º<code>conf</code>, æ¥ä¸‹å»æˆ‘ä»¬æŠŠSDKç”¨äºè¿æ¥èŠ‚ç‚¹çš„è¯ä¹¦æ”¾åˆ°æŒ‡å®šçš„<code>conf</code>ç›®å½•ä¸‹. å¦‚æœè·¯å¾„ä¸ç›¸åŒ, éœ€è¦è‡ªè¡Œè°ƒæ•´.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># å‡è®¾æˆ‘ä»¬å°†asset-appæ”¾åœ¨~/fiscoç›®å½•ä¸‹ è¿›å…¥~/fiscoç›®å½•</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd ~/fisco</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ›å»ºæ”¾ç½®è¯ä¹¦çš„æ–‡ä»¶å¤¹</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir -p asset-app/src/test/resources/conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ‹·è´èŠ‚ç‚¹è¯ä¹¦åˆ°é¡¹ç›®çš„èµ„æºç›®å½•</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cp -r nodes/127.0.0.1/sdk/* asset-app/src/test/resources/conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># è‹¥åœ¨IDEç›´æ¥è¿è¡Œï¼Œæ‹·è´è¯ä¹¦åˆ°resourcesè·¯å¾„</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir -p asset-app/src/main/resources/conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cp -r nodes/127.0.0.1/sdk/* asset-app/src/main/resources/conf</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="5"><li>ä¸šåŠ¡é€»è¾‘å¼€å‘</li></ol><ul><li>é€šè¿‡3ä¸­çš„ç¼–è¯‘é…ç½®è¿›è¡Œç¼–è¯‘, å°†åˆçº¦å¼•å…¥åˆ°é¡¹ç›®ä¸­.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cp console/contracts/sdk/java/org/fisco/bcos/asset/contract/Asset.java asset-app/src/main/java/org/fisco/bcos/asset/contract/Asset.java</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>å¼€å‘ä¸šåŠ¡é€»è¾‘</li></ul><p>åœ¨<code>/src/main/java/org/fisco/bcos/asset/client</code>ç›®å½•ä¸‹ï¼Œåˆ›å»º<code>AssetClient.java</code>ç±»ï¼Œè°ƒç”¨<code>Asset.java</code>å®ç°å¯¹åˆçº¦çš„éƒ¨ç½²ä¸è°ƒç”¨.</p><p><code>AssetClient.java</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">package org.fisco.bcos.asset.client;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileNotFoundException;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.FileOutputStream;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.IOException;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.math.BigInteger;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.List;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.Properties;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.asset.contract.Asset;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.BcosSDK;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.abi.datatypes.generated.tuples.generated.Tuple2;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.client.Client;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.crypto.keypair.CryptoKeyPair;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.fisco.bcos.sdk.model.TransactionReceipt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.slf4j.Logger;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.slf4j.LoggerFactory;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.ApplicationContext;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.support.ClassPathXmlApplicationContext;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.core.io.ClassPathResource;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.core.io.Resource;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.core.io.support.PathMatchingResourcePatternResolver;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AssetClient {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    static Logger logger = LoggerFactory.getLogger(AssetClient.class);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private BcosSDK bcosSDK;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Client client;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private CryptoKeyPair cryptoKeyPair;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void initialize() throws Exception {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // åˆå§‹åŒ–BcoSçš„SDK</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        @SuppressWarnings(&quot;resource&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ApplicationContext context =</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                new ClassPathXmlApplicationContext(&quot;classpath:applicationContext.xml&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bcosSDK = context.getBean(BcosSDK.class);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // åˆå§‹åŒ–å¯å‘ç¾¤ç»„1å‘äº¤æ˜“çš„Client</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        client = bcosSDK.getClient(1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // éšæœºç”Ÿæˆå‘é€äº¤æ˜“çš„å…¬é’¥ä¸ç§é’¥, å¹¶ä¸”åŒ¹é…ç»™Client</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cryptoKeyPair = client.getCryptoSuite().createKeyPair();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        client.getCryptoSuite().setCryptoKeyPair(cryptoKeyPair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.debug(&quot;create client for group1, account address is &quot; + cryptoKeyPair.getAddress());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void deployAssetAndRecordAddr() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // åˆæ¬¡éƒ¨ç½²åˆçº¦</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.deploy(client, cryptoKeyPair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot; deploy Asset success, contract address is &quot; + asset.getContractAddress());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            recordAssetAddr(asset.getContractAddress());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot; deploy Asset contract failed, error message is  &quot; + e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void recordAssetAddr(String address) throws FileNotFoundException, IOException {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties prop = new Properties();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.setProperty(&quot;address&quot;, address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        final Resource contractResource = new ClassPathResource(&quot;contract.properties&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        FileOutputStream fileOutputStream = new FileOutputStream(contractResource.getFile());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.store(fileOutputStream, &quot;contract address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String loadAssetAddr() throws Exception {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // load Asset contact address from contract.properties</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Properties prop = new Properties();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        final Resource contractResource = new ClassPathResource(&quot;contract.properties&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        prop.load(contractResource.getInputStream());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        String contractAddress = prop.getProperty(&quot;address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (contractAddress == null || contractAddress.trim().equals(&quot;&quot;)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Exception(&quot; load Asset contract address failed, please deploy it first. &quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.info(&quot; load Asset address from contract.properties, address is {}&quot;, contractAddress);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return contractAddress;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void queryAssetAmount(String assetAccount) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // å·²çŸ¥åˆçº¦åœ°å€æˆ–å·²éƒ¨ç½²åˆçº¦æ—¶åŠ è½½åˆçº¦</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            String contractAddress = loadAssetAddr();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è°ƒç”¨selectæ¥å£</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Tuple2&lt;BigInteger, BigInteger&gt; result = asset.select(assetAccount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (result.getValue1().compareTo(new BigInteger(&quot;0&quot;)) == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.printf(&quot; asset account %s, value %s \n&quot;, assetAccount, result.getValue2());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.printf(&quot; %s asset account is not exist \n&quot;, assetAccount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(&quot; queryAssetAmount exception, error message is {}&quot;, e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.printf(&quot; query asset account failed, error message is %s\n&quot;, e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void registerAssetAccount(String assetAccount, BigInteger amount) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            String contractAddress = loadAssetAddr();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è°ƒç”¨registeræ¥å£</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            TransactionReceipt receipt = asset.register(assetAccount, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            List&lt;Asset.RegisterEventEventResponse&gt; response = asset.getRegisterEventEvents(receipt);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!response.isEmpty()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (response.get(0).ret.compareTo(new BigInteger(&quot;0&quot;)) == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; register asset account success =&gt; asset: %s, value: %s \n&quot;, assetAccount, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; register asset account failed, ret code is %s \n&quot;, response.get(0).ret.toString());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot; event log not found, maybe transaction not exec. &quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(&quot; registerAssetAccount exception, error message is {}&quot;, e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.printf(&quot; register asset account failed, error message is %s\n&quot;, e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void transferAsset(String fromAssetAccount, String toAssetAccount, BigInteger amount) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            String contractAddress = loadAssetAddr();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Asset asset = Asset.load(contractAddress, client, cryptoKeyPair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // è°ƒç”¨transferæ¥å£</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            TransactionReceipt receipt = asset.transfer(fromAssetAccount, toAssetAccount, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            List&lt;Asset.TransferEventEventResponse&gt; response = asset.getTransferEventEvents(receipt);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!response.isEmpty()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (response.get(0).ret.compareTo(new BigInteger(&quot;0&quot;)) == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; transfer success =&gt; from_asset: %s, to_asset: %s, amount: %s \n&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            fromAssetAccount, toAssetAccount, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.printf(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot; transfer asset account failed, ret code is %s \n&quot;, response.get(0).ret.toString());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot; event log not found, maybe transaction not exec. &quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // TODO Auto-generated catch block</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // e.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            logger.error(&quot; registerAssetAccount exception, error message is {}&quot;, e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.printf(&quot; register asset account failed, error message is %s\n&quot;, e.getMessage());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void Usage() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot; Usage:&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient deploy&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient query account&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient register account value&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;\t java -cp conf/:lib/*:apps/* org.fisco.bcos.asset.client.AssetClient transfer from_account to_account amount&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.exit(0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) throws Exception {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (args.length &lt; 1) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            Usage();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        AssetClient client = new AssetClient();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        client.initialize();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        switch (args[0]) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;deploy&quot;:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.deployAssetAndRecordAddr();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;query&quot;:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (args.length &lt; 2) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Usage();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.queryAssetAmount(args[1]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;register&quot;:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (args.length &lt; 3) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Usage();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.registerAssetAccount(args[1], new BigInteger(args[2]));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            case &quot;transfer&quot;:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (args.length &lt; 4) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Usage();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                client.transferAsset(args[1], args[2], new BigInteger(args[3]));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            default:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Usage();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.exit(0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>åœ¨<code>asset-app/tool</code>ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªè°ƒç”¨<code>AssetClient</code>çš„è„šæœ¬<code>asset_run.sh</code>. å†…å®¹å¦‚ä¸‹:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash </span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function usage() </span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; Usage : &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh deploy&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh query    asset_account &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh register asset_account asset_amount &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh transfer from_asset_account to_asset_account amount &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;examples : &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh deploy &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh register  Asset0  10000000 &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh register  Asset1  10000000 &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh transfer  Asset0  Asset1 11111 &quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh query Asset0&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   bash asset_run.sh query Asset1&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    case $1 in</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    deploy)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 1 ] &amp;&amp; { usage; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    register)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 3 ] &amp;&amp; { usage; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    transfer)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 4 ] &amp;&amp; { usage; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    query)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ $# -lt 2 ] &amp;&amp; { usage; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    *)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        usage</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    esac</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    java -Djdk.tls.namedGroups=&quot;secp256k1&quot; -cp &#x27;apps/*:conf/:lib/*&#x27; org.fisco.bcos.asset.client.AssetClient $@</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>åœ¨<code>asset-app/test/resources</code>ç›®å½•ä¸‹åˆ›å»º<code>log4j.properties</code>. å†…å®¹å¦‚ä¸‹:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">### set log levels ###</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.rootLogger=DEBUG, file</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">### output the log information to the file ###</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file=org.apache.log4j.DailyRollingFileAppender</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.DatePattern=&#x27;_&#x27;yyyyMMddHH&#x27;.log&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.File=./log/sdk.log</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.Append=true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.filter.traceFilter=org.apache.log4j.varia.LevelRangeFilter</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.layout=org.apache.log4j.PatternLayout</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.file.layout.ConversionPattern=[%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C{1}.%M(%L) | %m%n</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">###output the log information to the console ###</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout.Target=System.out</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span></span><span class="token-line" style="color:#393A34"><span class="token plain">log4j.appender.stdout.layout.ConversionPattern=[%p] [%-d{yyyy-MM-dd HH:mm:ss}] %C{1}.%M(%L) | %m%n</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>ä¿®æ”¹build.gradleæ–‡ä»¶ä¸­çš„ç¼–è¯‘ä»»åŠ¡.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: &#x27;junit&#x27;, name: &#x27;junit&#x27;, version: &#x27;4.12&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&quot;org.fisco-bcos.java-sdk:fisco-bcos-java-sdk:2.7.2&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile spring</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile (&#x27;org.slf4j:slf4j-log4j12:1.7.25&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    runtime (&#x27;org.slf4j:slf4j-log4j12:1.7.25&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>é…ç½®æ·»åŠ build.gradleæ–‡ä»¶ä¸­çš„ç¼–è¯‘ä»»åŠ¡. ç›´æ¥åŠ å…¥åˆ°åº•éƒ¨å³å¯.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">jar {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    destinationDir file(&#x27;dist/apps&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    archiveName project.name + &#x27;.jar&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.xml&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.properties&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.crt&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude &#x27;**/*.key&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    doLast {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from configurations.runtime</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/lib&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from file(&#x27;src/test/resources/&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/conf&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from file(&#x27;tool/&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from file(&#x27;src/test/resources/contract&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            into &#x27;dist/contract&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>å¼•å…¥æ—¥å¿—åº“, åœ¨<code>asset-app/test/resources</code>ç›®å½•ä¸‹, åˆ›å»ºä¸€ä¸ªç©ºçš„<code>contract.properties</code>æ–‡ä»¶, ç”¨äºåº”ç”¨åœ¨è¿è¡Œæ—¶å­˜æ”¾åˆçº¦åœ°å€.</li></ul><ol start="6"><li>å®Œæˆå¼€å‘</li></ol><p>æœ€ç»ˆçš„ç›®å½•ç»“æ„å¦‚ä¸‹:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">|-- build.gradle // gradleé…ç½®æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- gradle</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- wrapper</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- gradle-wrapper.jar // ç”¨äºä¸‹è½½Gradleçš„ç›¸å…³ä»£ç å®ç°</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- gradle-wrapper.properties // wrapperæ‰€ä½¿ç”¨çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚gradleçš„ç‰ˆæœ¬ç­‰ä¿¡æ¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- gradlew // Linuxæˆ–è€…Unixä¸‹ç”¨äºæ‰§è¡Œwrapperå‘½ä»¤çš„Shellè„šæœ¬</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- gradlew.bat // Windowsä¸‹ç”¨äºæ‰§è¡Œwrapperå‘½ä»¤çš„æ‰¹å¤„ç†è„šæœ¬</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- src</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- main</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |-- java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |     |-- org</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |          |-- fisco</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                |-- bcos</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                      |-- asset</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                            |-- client // æ”¾ç½®å®¢æˆ·ç«¯è°ƒç”¨ç±»</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                                   |-- AssetClient.java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                            |-- contract // æ”¾ç½®Javaåˆçº¦ç±»</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |                                   |-- Asset.java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   |-- resources</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- ca.crt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- node.crt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- node.key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- sdk.crt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- sdk.key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |               |-- sdk.publickey</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- applicationContext.xml // é¡¹ç›®é…ç½®æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- contract.properties // å­˜å‚¨éƒ¨ç½²åˆçº¦åœ°å€çš„æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- log4j.properties // æ—¥å¿—é…ç½®æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |        |-- contract //å­˜æ”¾solidityçº¦æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |                |-- Asset.sol</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |                |-- Table.sol</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- test</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- resources // å­˜æ”¾ä»£ç èµ„æºæ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- ca.crt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- node.crt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- node.key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- sdk.crt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- sdk.key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                  |-- sdk.publickey</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- applicationContext.xml // é¡¹ç›®é…ç½®æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- contract.properties // å­˜å‚¨éƒ¨ç½²åˆçº¦åœ°å€çš„æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- log4j.properties // æ—¥å¿—é…ç½®æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|           |-- contract //å­˜æ”¾solidityçº¦æ–‡ä»¶</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                   |-- Asset.sol</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|                   |-- Table.sol</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- tool</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    |-- asset_run.sh // é¡¹ç›®è¿è¡Œè„šæœ¬</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="7"><li>è¿è¡Œåº”ç”¨</li></ol><ul><li><p>éƒ¨ç½²åº”ç”¨</p><ul><li><p>ç¼–è¯‘é¡¹ç›®</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/fisco/asset-app</span></span><span class="token-line" style="color:#393A34"><span class="token plain">./gradlew build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>éƒ¨ç½²<code>Asset.sol</code>åˆçº¦</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># è¿›å…¥distç›®å½•</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cd dist</span></span><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh deploy</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul></li><li><p>åº”ç”¨çš„ä¸»è¦åŠŸèƒ½:</p><ul><li><p>æ³¨å†Œèµ„äº§è´¦æˆ·</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh register Foo 100000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>æŸ¥è¯¢è´¦æˆ·èµ„äº§</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh query Foo</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>è½¬ç§»è´¦æˆ·èµ„äº§</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bash asset_run.sh transfer Foo Bar  50000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul></li></ul><p>ä»¥ä¸Šå°±æ˜¯å…¨éƒ¨å†…å®¹.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/Blockchain/ubantu-fisco.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Blockchain/erc"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« ERCæ ‡å‡†ä»¥åŠNFTåº”ç”¨å¼€å‘</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Blockchain/arm-mac-fisco"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Arm Macæ­å»ºFisco BcoSåŒºå—é“¾ Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹fisco-bcosè”ç›Ÿé“¾" class="table-of-contents__link">1. æ­å»ºå•ç¾¤ç»„å››èŠ‚ç‚¹FISCO BCOSè”ç›Ÿé“¾</a><ul><li><a href="#ç¬¬ä¸€æ­¥-å®‰è£…ä¾èµ–" class="table-of-contents__link">ç¬¬ä¸€æ­¥: å®‰è£…ä¾èµ–</a></li><li><a href="#ç¬¬äºŒæ­¥-åˆ›å»ºç›®å½•-ä¸‹è½½è„šæœ¬" class="table-of-contents__link">ç¬¬äºŒæ­¥: åˆ›å»ºç›®å½•, ä¸‹è½½è„šæœ¬</a></li><li><a href="#ç¬¬ä¸‰æ­¥-æ­å»ºè”ç›Ÿé“¾" class="table-of-contents__link">ç¬¬ä¸‰æ­¥: æ­å»ºè”ç›Ÿé“¾</a></li><li><a href="#ç¬¬å››æ­¥-å¯åŠ¨èŠ‚ç‚¹" class="table-of-contents__link">ç¬¬å››æ­¥: å¯åŠ¨èŠ‚ç‚¹</a></li><li><a href="#ç¬¬äº”æ­¥-æ£€æŸ¥æ—¥å¿—è¾“å‡º" class="table-of-contents__link">ç¬¬äº”æ­¥: æ£€æŸ¥æ—¥å¿—è¾“å‡º</a></li></ul></li><li><a href="#2-é…ç½®ä¸ä½¿ç”¨æ§åˆ¶å°" class="table-of-contents__link">2. é…ç½®ä¸ä½¿ç”¨æ§åˆ¶å°</a><ul><li><a href="#ç¬¬ä¸€æ­¥-å‡†å¤‡æ§åˆ¶å°ä¾èµ–" class="table-of-contents__link">ç¬¬ä¸€æ­¥: å‡†å¤‡æ§åˆ¶å°ä¾èµ–</a></li><li><a href="#ç¬¬äºŒæ­¥-å¯åŠ¨å¹¶ä½¿ç”¨æ§åˆ¶å°" class="table-of-contents__link">ç¬¬äºŒæ­¥: å¯åŠ¨å¹¶ä½¿ç”¨æ§åˆ¶å°</a></li></ul></li><li><a href="#3-éƒ¨ç½²å¹¶è°ƒç”¨helloworldçš„æ™ºèƒ½åˆçº¦" class="table-of-contents__link">3. éƒ¨ç½²å¹¶è°ƒç”¨HelloWorldçš„æ™ºèƒ½åˆçº¦</a><ul><li><a href="#ç¬¬ä¸€æ­¥-éƒ¨ç½²åˆçº¦" class="table-of-contents__link">ç¬¬ä¸€æ­¥: éƒ¨ç½²åˆçº¦</a></li><li><a href="#ç¬¬ä¸€æ­¥-åº”ç”¨ç¨‹åºè®¾è®¡" class="table-of-contents__link">ç¬¬ä¸€æ­¥: åº”ç”¨ç¨‹åºè®¾è®¡</a></li><li><a href="#ç¬¬äºŒæ­¥-å¼€å‘æ¥å£æºç " class="table-of-contents__link">ç¬¬äºŒæ­¥: å¼€å‘æ¥å£æºç </a></li><li><a href="#ç¬¬ä¸‰æ­¥-ç¼–è¯‘æ™ºèƒ½åˆçº¦" class="table-of-contents__link">ç¬¬ä¸‰æ­¥: ç¼–è¯‘æ™ºèƒ½åˆçº¦</a></li><li><a href="#ç¬¬å››æ­¥-åˆ›å»ºåŒºå—é“¾åº”ç”¨é¡¹ç›®" class="table-of-contents__link">ç¬¬å››æ­¥: åˆ›å»ºåŒºå—é“¾åº”ç”¨é¡¹ç›®</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">About</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://fewwwww.github.io/WeChat-AddMe/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WeChat</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://suningyao.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio</a></li><li class="footer__item"><a href="https://github.com/fewwwww" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Blog. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e4625b6f.js"></script>
<script src="/assets/js/main.9cc731b6.js"></script>
</body>
</html>